"use strict";var phosphor;!function(t){var e;!function(t){var e;!function(t){function e(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1);var o=t.length;if(0===o)return-1;if(i=0|i,0>i&&(i+=o,0>i&&(i=0)),n)for(var r=0;o>r;++r){var s=(r+i)%o;if(t[s]===e)return s}else for(var r=i;o>r;++r)if(t[r]===e)return r;return-1}function i(t,e,i,n){void 0===i&&(i=-1),void 0===n&&(n=!1);var o=t.length;if(0===o)return-1;if(i=0|i,0>i?i+=o:i>=o&&(i=o-1),n)for(var r=o;r>0;--r){var s=((r+i)%o+o)%o;if(t[s]===e)return s}else for(var r=i;r>=0;--r)if(t[r]===e)return r;return-1}function n(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1);var o=t.length;if(0===o)return-1;if(i=0|i,0>i&&(i+=o,0>i&&(i=0)),n)for(var r=0;o>r;++r){var s=(r+i)%o;if(e(t[s],s))return s}else for(var r=i;o>r;++r)if(e(t[r],r))return r;return-1}function o(t,e,i,n){void 0===i&&(i=-1),void 0===n&&(n=!1);var o=t.length;if(0===o)return-1;if(i=0|i,0>i?i+=o:i>=o&&(i=o-1),n)for(var r=o;r>0;--r){var s=((r+i)%o+o)%o;if(e(t[s],s))return s}else for(var r=i;r>=0;--r)if(e(t[r],r))return r;return-1}function r(t,e,i,o){var r=n(t,e,i,o);return-1!==r?t[r]:void 0}function s(t,e,i,n){var r=o(t,e,i,n);return-1!==r?t[r]:void 0}function a(t,e,i){for(var n,o,r=0,s=t.length;s>0;)n=s>>1,o=r+n,i(t[o],e)<0?(r=o+1,s-=n+1):s=n;return r}function h(t,e,i){for(var n,o,r=0,s=t.length;s>0;)n=s>>1,o=r+n,i(t[o],e)>0?s=n:(r=o+1,s-=n+1);return r}function c(t,e,i){var n=a(t,e,i);return n===t.length?-1:0===i(t[n],e)?n:-1}function u(t,e,i){var n=h(t,e,i);return 0===n?-1:0===i(t[n-1],e)?n-1:-1}function p(t,e,i){var n=c(t,e,i);return-1!==n?t[n]:void 0}function d(t,e,i){var n=u(t,e,i);return-1!==n?t[n]:void 0}function l(t){for(var e=t.length,i=new Array(e),n=0;e>n;++n)i[n]=t[n];return i}function f(t,e,i){e=0|e;var n=t.length;0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n);for(var o=n;o>e;--o)t[o]=t[o-1];return t[e]=i,e}function _(t,e,i){e=0|e;var n=t.length;if(0>e&&(e+=n),0>e||e>=n)return-1;if(i=0|i,0>i?(i+=n,0>i&&(i=0)):i>=n&&(i=n-1),e===i)return i;var o=t[e];if(e>i)for(var r=e;r>i;--r)t[r]=t[r-1];else for(var r=e;i>r;++r)t[r]=t[r+1];return t[i]=o,i}function v(t,e){e=0|e;var i=t.length;if(0>e&&(e+=i),0>e||e>=i)return void 0;for(var n=t[e],o=e+1;i>o;++o)t[o-1]=t[o];return t.pop(),n}function m(t,i){var n=e(t,i);return-1!==n&&v(t,n),n}t.indexOf=e,t.lastIndexOf=i,t.findIndex=n,t.findLastIndex=o,t.find=r,t.findLast=s,t.lowerBound=a,t.upperBound=h,t.findLowerIndex=c,t.findUpperIndex=u,t.findLower=p,t.findUpper=d,t.copy=l,t.insert=f,t.move=_,t.removeAt=v,t.remove=m}(e=t.algorithm||(t.algorithm={}))}(e=t.collections||(t.collections={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t,e){var i=this;this._size=0,this._offset=0,this._array=new Array(Math.max(1,t)),e&&e.forEach(function(t){i.pushBack(t)})}return Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._array.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"front",{get:function(){return 0!==this._size?this._get(0):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"back",{get:function(){return 0!==this._size?this._get(this._size-1):void 0},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return 0>t||t>=this._size?void 0:this._get(t)},t.prototype.set=function(t,e){return 0>t||t>=this._size?!1:(this._set(t,e),!0)},t.prototype.pushBack=function(t){this._set(this._size,t),this._size===this._array.length?this._increment():this._size++},t.prototype.pushFront=function(t){this._decrement(),this._set(0,t),this._size<this._array.length&&this._size++},t.prototype.popBack=function(){return 0===this._size?void 0:this._rem(--this._size)},t.prototype.popFront=function(){if(0===this._size)return void 0;var t=this._rem(0);return this._increment(),this._size--,t},t.prototype.clear=function(){for(var t=0,e=this._size;e>t;++t)this._set(t,void 0);this._size=0,this._offset=0},t.prototype.toArray=function(){for(var t=new Array(this._size),e=0,i=this._size;i>e;++e)t[e]=this._get(e);return t},t.prototype.some=function(t){for(var e=0;e<this._size;++e)if(t(this._get(e),e))return!0;return!1},t.prototype.every=function(t){for(var e=0;e<this._size;++e)if(!t(this._get(e),e))return!1;return!0},t.prototype.filter=function(t){for(var e,i=0;i<this._size;++i){var n=this._get(i);t(n,i)&&e.push(n)}return e},t.prototype.map=function(t){for(var e=new Array(this._size),i=0;i<this._size;++i)e[i]=t(this._get(i),i);return e},t.prototype.forEach=function(t){for(var e=0;e<this._size;++e){var i=t(this._get(e),e);if(void 0!==i)return i}return void 0},t.prototype._get=function(t){return this._array[(t+this._offset)%this._array.length]},t.prototype._set=function(t,e){this._array[(t+this._offset)%this._array.length]=e},t.prototype._rem=function(t){var e=(t+this._offset)%this._array.length,i=this._array[e];return this._array[e]=void 0,i},t.prototype._increment=function(){this._offset===this._array.length-1?this._offset=0:this._offset++},t.prototype._decrement=function(){0===this._offset?this._offset=this._array.length-1:this._offset--},t}();t.CircularBuffer=e}(e=t.collections||(t.collections={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t){var e=this;this._size=0,this._front=null,this._back=null,t&&t.forEach(function(t){e.pushBack(t)})}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"front",{get:function(){return null!==this._front?this._front.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"back",{get:function(){return null!==this._back?this._back.value:void 0},enumerable:!0,configurable:!0}),t.prototype.pushBack=function(t){var e={next:null,value:t};null===this._back?(this._front=e,this._back=e):(this._back.next=e,this._back=e),this._size++},t.prototype.popFront=function(){var t=this._front;return null===t?void 0:(null===t.next?(this._front=null,this._back=null):this._front=t.next,this._size--,t.value)},t.prototype.clear=function(){this._size=0,this._front=null,this._back=null},t.prototype.toArray=function(){for(var t=new Array(this._size),e=0,i=this._front;null!==i;i=i.next,++e)t[e]=i.value;return t},t.prototype.some=function(t){for(var e=0,i=this._front;null!==i;i=i.next,++e)if(t(i.value,e))return!0;return!1},t.prototype.every=function(t){for(var e=0,i=this._front;null!==i;i=i.next,++e)if(!t(i.value,e))return!1;return!0},t.prototype.filter=function(t){for(var e,i=0,n=this._front;null!==n;n=n.next,++i){var o=n.value;t(o,i)&&e.push(o)}return e},t.prototype.map=function(t){for(var e=new Array(this._size),i=0,n=this._front;null!==n;n=n.next,++i)e[i]=t(n.value,i);return e},t.prototype.forEach=function(t){for(var e=0,i=this._front;null!==i;i=i.next,++e){var n=t(i.value,e);if(void 0!==n)return n}return void 0},t}();t.Queue=e}(e=t.collections||(t.collections={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t){this._type=t}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),t}();t.Message=e}(e=t.core||(t.core={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t,e){c(t).sendMessage(e)}function n(t,e){c(t).postMessage(e)}function o(t){return c(t).hasPendingMessages()}function r(t){c(t).sendPendingMessage()}function s(t,e){c(t).installMessageFilter(e)}function a(t,e){c(t).removeMessageFilter(e)}function h(t){var e=f.get(t);void 0!==e&&(f["delete"](t),e.clearPendingMessages(),e.clearMessageFilters())}function c(t){var e=f.get(t);return void 0===e&&(e=new g(t),f.set(t,e)),e}function u(){0!==v||_.empty||(v=m(p))}function p(){if(v=0,!_.empty)for(null!==_.back&&_.pushBack(null);!_.empty;){var t=_.popFront();if(null===t)return void u();d(t)}}function d(t){try{t.sendPendingMessage()}catch(e){throw u(),e}}var l=t.collections.Queue;e.sendMessage=i,e.postMessage=n,e.hasPendingMessages=o,e.sendPendingMessage=r,e.installMessageFilter=s,e.removeMessageFilter=a,e.clearMessageData=h;var f=new WeakMap,_=new l,v=0,m=requestAnimationFrame,y=function(){function t(t){this._filter=t}return t.prototype.clear=function(){this._filter=null},t.prototype.equals=function(t){return this._filter===t},t.prototype.invoke=function(t,e){return this._filter?this._filter.filterMessage(t,e):!1},t}(),g=function(){function t(t){this._messages=null,this._filters=null,this._handler=t}return t.prototype.sendMessage=function(t){this._filterMessage(t)||this._handler.processMessage(t)},t.prototype.postMessage=function(t){this._compressMessage(t)||this._enqueueMessage(t)},t.prototype.hasPendingMessages=function(){return null!==this._messages&&!this._messages.empty},t.prototype.sendPendingMessage=function(){null===this._messages||this._messages.empty||this.sendMessage(this._messages.popFront())},t.prototype.clearPendingMessages=function(){null!==this._messages&&(this._messages.clear(),this._messages=null)},t.prototype.installMessageFilter=function(t){var e=new y(t),i=this._filters;null===i?this._filters=e:i instanceof y?this._filters=[i,e]:i.push(e)},t.prototype.removeMessageFilter=function(t){var e=this._filters;if(null!==e)if(e instanceof y)e.equals(t)&&(e.clear(),this._filters=null);else{for(var i=[],n=e,o=0,r=n.length;r>o;++o){var s=n[o];s.equals(t)?s.clear():i.push(s)}this._filters=0===i.length?null:1===i.length?i[0]:i}},t.prototype.clearMessageFilters=function(){var t=this._filters;if(null!==t)if(this._filters=null,t instanceof y)t.clear();else for(var e=t,i=0,n=e.length;n>i;++i)e[i].clear()},t.prototype._compressMessage=function(t){return void 0===this._handler.compressMessage?!1:null===this._messages||this._messages.empty?!1:this._handler.compressMessage(t,this._messages)},t.prototype._filterMessage=function(t){var e=this._filters;if(null===e)return!1;if(e instanceof y)return e.invoke(this._handler,t);for(var i=this._handler,n=e,o=n.length-1;o>=0;--o)if(n[o].invoke(i,t))return!0;return!1},t.prototype._enqueueMessage=function(t){null===this._messages&&(this._messages=new l),this._messages.pushBack(t),_.pushBack(this),u()},t}()}(e=t.core||(t.core={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(){this._callbacks=null}return t.prototype.connect=function(t,e){var n=new i(t,e),o=this._callbacks;null===o?this._callbacks=n:o instanceof i?this._callbacks=[o,n]:o.push(n)},t.prototype.disconnect=function(t,e){var n=this._callbacks;if(null!==n)if(n instanceof i)(!t||n.equals(t,e))&&(n.clear(),this._callbacks=null);else if(t){for(var o=[],r=n,s=0,a=r.length;a>s;++s){var h=r[s];h.equals(t,e)?h.clear():o.push(h)}this._callbacks=0===o.length?null:1===o.length?o[0]:o}else{for(var r=n,s=0,a=r.length;a>s;++s)r[s].clear();this._callbacks=null}},t.prototype.isConnected=function(t,e){var n=this._callbacks;if(null===n)return!1;if(n instanceof i)return n.equals(t,e);for(var o=n,r=0,s=o.length;s>r;++r)if(o[r].equals(t,e))return!0;return!1},t.prototype.emit=function(t,e){var n=this._callbacks;if(null!==n)if(n instanceof i)n.invoke(t,e);else for(var o=n,r=0,s=o.length;s>r;++r)o[r].invoke(t,e)},t}();t.Signal=e;var i=function(){function t(t,e){this._callback=t,this._thisArg=e}return t.prototype.clear=function(){this._callback=null,this._thisArg=null},t.prototype.equals=function(t,e){return this._callback===t&&this._thisArg===e},t.prototype.invoke=function(t,e){this._callback&&this._callback.call(this._thisArg,t,e)},t}()}(e=t.core||(t.core={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t){return Object.freeze({name:t})}t.createToken=e}(e=t.di||(t.di={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t){if("transient"===t)return r;if("singleton"===t)return new s;if("perresolve"===t)return new a;throw new Error("invalid lifetime: "+t)}var i=function(){function t(){this._registry=new Map}return t.prototype.isRegistered=function(t){return this._registry.has(t)},t.prototype.registerType=function(t,i,n){if(this._registry.has(t))throw new Error("token is already registered");var o=e(n||"singleton");this._registry.set(t,{type:i,lifetime:o})},t.prototype.registerInstance=function(t,e){if(this._registry.has(t))throw new Error("token is already registered");var i=new s(e);this._registry.set(t,{type:null,lifetime:i})},t.prototype.resolve=function(t){return"function"==typeof t?this._resolveType(t,n++):this._resolveToken(t,n++)},t.prototype._resolveToken=function(t,e){var i=this._registry.get(t);if(void 0===i)throw new Error("`"+t.name+"` is not registered");var n=i.lifetime.get(e);return n?n:(n=this._resolveType(i.type,e),i.lifetime.set(e,n),n)},t.prototype._resolveType=function(t,e){var i=Object.create(t.prototype),n=t.$inject;if(!n||0===n.length)return t.call(i)||i;for(var o=[],r=0,s=n.length;s>r;++r)o[r]=this._resolveToken(n[r],e);return t.apply(i,o)||i},t}();t.Container=i;var n=0,o=function(){function t(){}return t.prototype.get=function(t){return null},t.prototype.set=function(t,e){},t}(),r=new o,s=function(){function t(t){void 0===t&&(t=null),this._val=t}return t.prototype.get=function(t){return this._val},t.prototype.set=function(t,e){this._val=e},t}(),a=function(){function t(){this._key=0,this._val=null}return t.prototype.get=function(t){return this._key===t?this._val:null},t.prototype.set=function(t,e){this._key=t,this._val=e},t}()}(e=t.di||(t.di={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){t.IContainer=t.createToken("phosphor.di.IContainer")}(e=t.di||(t.di={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t){var e=i,n=window.getComputedStyle(t),o=parseInt(n.minWidth,10)||e._mw,r=parseInt(n.minHeight,10)||e._mh,s=parseInt(n.maxWidth,10)||e._xw,a=parseInt(n.maxHeight,10)||e._xh,h=parseInt(n.borderTopWidth,10)||e._bt,c=parseInt(n.borderLeftWidth,10)||e._bl,u=parseInt(n.borderRightWidth,10)||e._br,p=parseInt(n.borderBottomWidth,10)||e._bb,d=parseInt(n.paddingTop,10)||e._pt,l=parseInt(n.paddingLeft,10)||e._pl,f=parseInt(n.paddingRight,10)||e._pr,_=parseInt(n.paddingBottom,10)||e._pb,v=Object.create(e);return o!==e._mw&&(v._mw=o),r!==e._mh&&(v._mh=r),s!==e._xw&&(v._xw=s),a!==e._xh&&(v._xh=a),h!==e._bt&&(v._bt=h),c!==e._bl&&(v._bl=c),u!==e._br&&(v._br=u),p!==e._bb&&(v._bb=p),d!==e._pt&&(v._pt=d),l!==e._pl&&(v._pl=l),f!==e._pr&&(v._pr=f),_!==e._pb&&(v._pb=_),v}t.createBoxSizing=e;var i={get minWidth(){return this._mw},get minHeight(){return this._mh},get maxWidth(){return this._xw},get maxHeight(){return this._xh},get borderTop(){return this._bt},get borderLeft(){return this._bl},get borderRight(){return this._br},get borderBottom(){return this._bb},get paddingTop(){return this._pt},get paddingLeft(){return this._pl},get paddingRight(){return this._pr},get paddingBottom(){return this._pb},get verticalSum(){return this._bt+this._bb+this._pt+this._pb},get horizontalSum(){return this._bl+this._br+this._pl+this._pr},_mw:0,_mh:0,_xw:1/0,_xh:1/0,_bt:0,_bl:0,_br:0,_bb:0,_pt:0,_pl:0,_pr:0,_pb:0}}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(e){var o=n={},r=document.body;return r.style.cursor=e,r.classList.add(i),new t.Disposable(function(){o===n&&(n=null,r.style.cursor="",r.classList.remove(i))})}var i="p-mod-cursor-override",n=null;t.overrideCursor=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t){this._callback=t}return t.prototype.dispose=function(){var t=this._callback;this._callback=null,t&&t()},t}();t.Disposable=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]),t.emptyFunction=function(){}}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t,e,i){var n=t.getBoundingClientRect();return e>=n.left&&e<n.right&&i>=n.top&&i<n.bottom}t.hitTest=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t,e){this.first=t,this.second=e}return t}();t.Pair=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t,e){this._x=t,this._y=e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return this._x===t._x&&this._y===t._y},t.Zero=new t(0,0),t.Infinite=new t(1/0,1/0),t}();t.Point=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function e(t,e,i,n){this._x=t,this._y=e,this._width=i,this._height=n}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return new t.Point(this._x,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return new t.Size(this._width,this._height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this._x+this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this._y+this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new t.Point(this._x,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new t.Point(this._x+this._width,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new t.Point(this._x,this._y+this._height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new t.Point(this._x+this._width,this._y+this._height)},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return this._x===t._x&&this._y===t._y&&this._width===t._width&&this._height===t._height},e}();t.Rect=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t,e){this._width=t,this._height=e}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return this._width===t._width&&this._height===t._height},t.Zero=new t(0,0),t.Infinite=new t(1/0,1/0),t}();t.Size=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(){var e=document.documentElement,i=window.pageXOffset,n=window.pageYOffset,o=i+e.clientWidth,r=n+e.clientHeight;return new t.Rect(i,n,o,r)}t.clientViewportRect=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.utility.emptyArray,n=t.utility.emptyObject,o=function(){function t(){this._data=n,this._children=i;var t=this.constructor;this._node=document.createElement(t.tagName),this._node.className=t.className}return t.prototype.dispose=function(){this._node=null,this._data=null,this._children=null},Object.defineProperty(t.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),t.prototype.init=function(t,e){this._data=t,this._children=e},t.tagName="div",t.className="",t}();e.BaseComponent=o}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.utility.emptyObject,n=requestAnimationFrame,o=cancelAnimationFrame,r=function(t){function r(){t.apply(this,arguments),this._frameId=0,this._refs=i}return __extends(r,t),r.prototype.dispose=function(){this._refs=null,this._cancelFrame(),t.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"refs",{get:function(){return this._refs},enumerable:!0,configurable:!0}),r.prototype.init=function(e,i){var n=this.shouldUpdate(e,i);t.prototype.init.call(this,e,i),n&&this.update(!0)},r.prototype.render=function(){return null},r.prototype.update=function(t){var e=this;void 0===t&&(t=!1),t?(this._cancelFrame(),this._render()):0===this._frameId&&(this._frameId=n(function(){e._frameId=0,e._render()}))},r.prototype.beforeRender=function(){},r.prototype.afterRender=function(){},r.prototype.shouldUpdate=function(t,e){return!0},r.prototype._render=function(){this.beforeRender(),this._refs=e.render(this.render(),this.node),this.afterRender()},r.prototype._cancelFrame=function(){0!==this._frameId&&(o(this._frameId),this._frameId=0)},r}(e.BaseComponent);e.Component=r}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t){return a.bind(void 0,t)}function n(t){return new u(0,t,c,h)}function o(t,e,i){return e=e||c,i=i||h,new u(1,t,e,i)}function r(t,e,i){return e=e||c,i=i||h,new u(2,t,e,i)}function s(t,e){for(var i=0,n=e.length;n>i;++i){var o=e[i];o&&t.push(o)}}function a(t,e){var i=null,a=null;e&&("string"==typeof e||e.__isElement?a=[e]:e instanceof Array?a=e.slice():i=e);var h=arguments.length;if(h>2){a=a||[];for(var c=2;h>c;++c){var u=arguments[c];u instanceof Array?s(a,u):u&&a.push(u)}}if(a)for(var c=0,p=a.length;p>c;++c){var u=a[c];"string"==typeof u&&(a[c]=n(u))}var d;return d="string"==typeof t?o(t,i,a):r(t,i,a)}var h=t.utility.emptyArray,c=t.utility.emptyObject;e.createFactory=i;var u=function(){function t(t,e,i,n){this.type=t,this.tag=e,this.data=i,this.children=n}return t}();u.prototype.__isElement=!0}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){t.dom={a:t.createFactory("a"),abbr:t.createFactory("abbr"),address:t.createFactory("address"),area:t.createFactory("area"),article:t.createFactory("article"),aside:t.createFactory("aside"),audio:t.createFactory("audio"),b:t.createFactory("b"),bdi:t.createFactory("bdi"),bdo:t.createFactory("bdo"),blockquote:t.createFactory("blockquote"),br:t.createFactory("br"),button:t.createFactory("button"),canvas:t.createFactory("canvas"),caption:t.createFactory("caption"),cite:t.createFactory("cite"),code:t.createFactory("code"),col:t.createFactory("col"),colgroup:t.createFactory("colgroup"),data:t.createFactory("data"),datalist:t.createFactory("datalist"),dd:t.createFactory("dd"),del:t.createFactory("del"),dfn:t.createFactory("dfn"),div:t.createFactory("div"),dl:t.createFactory("dl"),dt:t.createFactory("dt"),em:t.createFactory("em"),embed:t.createFactory("embed"),fieldset:t.createFactory("fieldset"),figcaption:t.createFactory("figcaption"),figure:t.createFactory("figure"),footer:t.createFactory("footer"),form:t.createFactory("form"),h1:t.createFactory("h1"),h2:t.createFactory("h2"),h3:t.createFactory("h3"),h4:t.createFactory("h4"),h5:t.createFactory("h5"),h6:t.createFactory("h6"),header:t.createFactory("header"),hr:t.createFactory("hr"),i:t.createFactory("i"),iframe:t.createFactory("iframe"),img:t.createFactory("img"),input:t.createFactory("input"),ins:t.createFactory("ins"),kbd:t.createFactory("kbd"),label:t.createFactory("label"),legend:t.createFactory("legend"),li:t.createFactory("li"),main:t.createFactory("main"),map:t.createFactory("map"),mark:t.createFactory("mark"),meter:t.createFactory("meter"),nav:t.createFactory("nav"),object:t.createFactory("object"),ol:t.createFactory("ol"),optgroup:t.createFactory("optgroup"),option:t.createFactory("option"),output:t.createFactory("output"),p:t.createFactory("p"),param:t.createFactory("param"),pre:t.createFactory("pre"),progress:t.createFactory("progress"),q:t.createFactory("q"),rp:t.createFactory("rp"),rt:t.createFactory("rt"),ruby:t.createFactory("ruby"),s:t.createFactory("s"),samp:t.createFactory("samp"),section:t.createFactory("section"),select:t.createFactory("select"),small:t.createFactory("small"),source:t.createFactory("source"),span:t.createFactory("span"),strong:t.createFactory("strong"),sub:t.createFactory("sub"),summary:t.createFactory("summary"),sup:t.createFactory("sup"),table:t.createFactory("table"),tbody:t.createFactory("tbody"),td:t.createFactory("td"),textarea:t.createFactory("textarea"),tfoot:t.createFactory("tfoot"),th:t.createFactory("th"),thead:t.createFactory("thead"),time:t.createFactory("time"),title:t.createFactory("title"),tr:t.createFactory("tr"),track:t.createFactory("track"),u:t.createFactory("u"),ul:t.createFactory("ul"),"var":t.createFactory("var"),video:t.createFactory("video"),wbr:t.createFactory("wbr")}}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Text=0]="Text",t[t.Node=1]="Node",t[t.Component=2]="Component"}(t.ElementType||(t.ElementType={}));t.ElementType}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t,e){var i=m.get(e)||_,o=n(t);return m.set(e,o),u(e,i,o),r(e,o)}function n(t){return t instanceof Array?t:t?[t]:_}function o(t,e){for(var i=t.firstChild,n=Object.create(null),o=0,r=e.length;r>o;++o){var s=e[o],a=s.data.key;a&&(n[a]=new f(s,i)),i=i.nextSibling}return n}function r(t,e){var i=Object.create(null);return s(t,e,i),i}function s(t,e,i){for(var n=t.firstChild,o=0,r=e.length;r>o;++o,n=n.nextSibling){var a=e[o],h=a.type;if(1===h){var c=a.data.ref;c&&(i[c]=n),s(n,a.children,i)}else if(2===h){var c=a.data.ref;c&&(i[c]=y.get(n))}}}function a(t,e,i){var n=e.type;if(0===n){var o=document.createTextNode(e.tag);t.insertBefore(o,i)}else if(1===n){var r=document.createElement(e.tag);c(r,e.data),t.insertBefore(r,i),h(r,e.children)}else{if(2!==n)throw new Error("invalid element type");var s=new e.tag;y.set(s.node,s),t.insertBefore(s.node,i),s.init(e.data,e.children)}}function h(t,e){for(var i=0,n=e.length;n>i;++i)a(t,e[i])}function c(t,e){for(var i in e){var n=g[i];0===n||2===n?t[i]=e[i]:1===n&&t.setAttribute(i.toLowerCase(),e[i])}var o=e.dataset;if(o)for(var i in o)t.setAttribute("data-"+i,o[i]);var r=e.style;if(r){var s=t.style;for(var i in r)s[i]=r[i]}}function u(t,e,i){if(e!==i){for(var n=o(t,e),r=l.copy(e),s=t.firstChild,h=i.length,c=0;h>c;++c){var f=i[c];if(c>=r.length)r.push(f),a(t,f);else{var _=r[c],v=f.data.key;if(v&&v in n){var m=n[v];m.first!==_&&(l.move(r,l.indexOf(r,m.first,c),c),t.insertBefore(m.second,s),_=m.first,s=m.second)}if(_!==f){var g=_.data.key;if(g&&g!==v)l.insert(r,c,f),a(t,f,s);else if(_.type===f.type)if(0!==f.type)if(_.tag===f.tag)if(1!==f.type){var b=y.get(s);b.init(f.data,f.children),s=s.nextSibling}else p(s,_.data,f.data),u(s,_.children,f.children),s=s.nextSibling;else l.insert(r,c,f),a(t,f,s);else _.tag!==f.tag&&(s.textContent=f.tag),s=s.nextSibling;else l.insert(r,c,f),a(t,f,s)}else s=s.nextSibling}}for(var c=r.length-1;c>=h;--c){var w=t.lastChild;t.removeChild(w),d(w)}}}function p(t,e,i){if(e!==i){for(var n in e)if(!(n in i)){var o=g[n];0===o?t.removeAttribute(n):1===o?t.removeAttribute(n.toLowerCase()):2===o&&(t[n]=null)}for(var n in i){var r=i[n];if(e[n]!==r){var o=g[n];0===o||2===o?t[n]=r:1===o&&t.setAttribute(n.toLowerCase(),r)}}var s=e.dataset||v,a=i.dataset||v;if(s!==a){for(var n in s)n in a||t.removeAttribute("data-"+n);for(var n in a){var r=a[n];s[n]!==r&&t.setAttribute("data-"+n,r)}}var h=e.style||v,c=i.style||v;if(h!==c){var u=t.style;for(var n in h)n in c||(u[n]="");for(var n in c){var r=c[n];h[n]!==r&&(u[n]=r)}}}}function d(t){if(1===t.nodeType){var e=y.get(t);e&&e.dispose()}for(var i=t.firstChild;i;i=i.nextSibling)d(i)}var l=t.collections.algorithm,f=t.utility.Pair,_=t.utility.emptyArray,v=t.utility.emptyObject;e.render=i;var m=new WeakMap,y=new WeakMap,g={accept:0,acceptCharset:0,accessKey:0,action:0,allowFullscreen:1,alt:0,autocomplete:0,autofocus:0,autoplay:0,checked:0,cite:0,className:0,colSpan:0,cols:0,contentEditable:0,controls:0,coords:0,crossOrigin:0,data:0,dateTime:0,"default":0,dir:0,dirName:0,disabled:0,download:0,draggable:0,enctype:0,form:1,formAction:0,formEnctype:0,formMethod:0,formNoValidate:0,formTarget:0,headers:0,height:0,hidden:0,high:0,href:0,hreflang:0,htmlFor:0,id:0,inputMode:0,isMap:0,kind:0,label:0,lang:0,list:1,loop:0,low:0,max:0,maxLength:0,media:1,mediaGroup:0,method:0,min:0,minLength:0,multiple:0,muted:0,name:0,noValidate:0,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,readOnly:0,rel:0,required:0,reversed:0,rowSpan:0,rows:0,sandbox:0,scope:0,seamless:1,selected:0,shape:0,size:0,sizes:1,sorted:0,span:0,spellcheck:0,src:0,srcdoc:0,srclang:0,srcset:1,start:0,step:0,tabIndex:0,target:0,title:0,type:0,typeMustMatch:0,useMap:0,value:0,volume:0,width:0,wrap:0,onabort:2,onbeforecopy:2,onbeforecut:2,onbeforepaste:2,onblur:2,oncanplay:2,oncanplaythrough:2,onchange:2,onclick:2,oncontextmenu:2,oncopy:2,oncuechange:2,oncut:2,ondblclick:2,ondrag:2,ondragend:2,ondragenter:2,ondragleave:2,ondragover:2,ondragstart:2,ondrop:2,ondurationchange:2,onended:2,onemptied:2,onerror:2,onfocus:2,onhelp:2,oninput:2,onkeydown:2,onkeypress:2,onkeyup:2,onload:2,onloadeddata:2,onloadedmetadata:2,onloadstart:2,onmousedown:2,onmouseenter:2,onmouseleave:2,onmousemove:2,onmouseout:2,onmouseover:2,onmouseup:2,onmousewheel:2,onpaste:2,onpause:2,onplay:2,onplaying:2,onprogress:2,onratechange:2,onreadystatechange:2,onreset:2,onscroll:2,onseeked:2,onseeking:2,onselect:2,onselectstart:2,onstalled:2,onsubmit:2,onsuspend:2,ontimeupdate:2,onvolumechange:2,onwaiting:2}}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.HorizontalCenter=4]="HorizontalCenter",t[t.Top=16]="Top",t[t.Bottom=32]="Bottom",t[t.VerticalCenter=64]="VerticalCenter",t[t.Center=t.HorizontalCenter|t.VerticalCenter]="Center",t[t.Horizontal_Mask=t.Left|t.Right|t.HorizontalCenter]="Horizontal_Mask",t[t.Vertical_Mask=t.Top|t.Bottom|t.VerticalCenter]="Vertical_Mask"}(t.Alignment||(t.Alignment={}));t.Alignment}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=function(t){function e(e,i){t.call(this,e),this._child=i}return __extends(e,t),Object.defineProperty(e.prototype,"child",{get:function(){return this._child},enumerable:!0,configurable:!0}),e}(i);e.ChildMessage=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.LeftToRight=0]="LeftToRight",t[t.RightToLeft=1]="RightToLeft",t[t.TopToBottom=2]="TopToBottom",
t[t.BottomToTop=3]="BottomToTop"}(t.Direction||(t.Direction={}));t.Direction}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Top=0]="Top",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.SplitTop=4]="SplitTop",t[t.SplitLeft=5]="SplitLeft",t[t.SplitRight=6]="SplitRight",t[t.SplitBottom=7]="SplitBottom",t[t.TabBefore=8]="TabBefore",t[t.TabAfter=9]="TabAfter"}(t.DockMode||(t.DockMode={}));t.DockMode}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=function(t){function e(e,i,n,o){t.call(this,"move"),this._oldX=e,this._oldY=i,this._x=n,this._y=o}return __extends(e,t),Object.defineProperty(e.prototype,"oldX",{get:function(){return this._oldX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldY",{get:function(){return this._oldY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaX",{get:function(){return this._x-this._oldX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaY",{get:function(){return this._y-this._oldY},enumerable:!0,configurable:!0}),e}(i);e.MoveMessage=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(t.Orientation||(t.Orientation={}));t.Orientation}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=function(t){function e(e,i,n,o){t.call(this,"resize"),this._oldWidth=e,this._oldHeight=i,this._width=n,this._height=o}return __extends(e,t),Object.defineProperty(e.prototype,"oldWidth",{get:function(){return this._oldWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldHeight",{get:function(){return this._oldHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaWidth",{get:function(){return this._width-this._oldWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaHeight",{get:function(){return this._height-this._oldHeight},enumerable:!0,configurable:!0}),e}(i);e.ResizeMessage=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Fixed=0]="Fixed",t[t.GrowFlag=1]="GrowFlag",t[t.ShrinkFlag=2]="ShrinkFlag",t[t.ExpandFlag=4]="ExpandFlag",t[t.IgnoreFlag=8]="IgnoreFlag",t[t.Minimum=t.GrowFlag]="Minimum",t[t.Maximum=t.ShrinkFlag]="Maximum",t[t.Preferred=t.GrowFlag|t.ShrinkFlag]="Preferred",t[t.Expanding=t.GrowFlag|t.ShrinkFlag|t.ExpandFlag]="Expanding",t[t.MinimumExpanding=t.GrowFlag|t.ExpandFlag]="MinimumExpanding",t[t.Ignored=t.GrowFlag|t.ShrinkFlag|t.IgnoreFlag]="Ignored"}(t.SizePolicy||(t.SizePolicy={}));t.SizePolicy}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.IsAttached=1]="IsAttached",t[t.IsHidden=2]="IsHidden",t[t.IsVisible=4]="IsVisible",t[t.IsDisposed=8]="IsDisposed",t[t.DisallowLayoutChange=16]="DisallowLayoutChange"}(t.WidgetFlag||(t.WidgetFlag={}));t.WidgetFlag}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=t.core.postMessage,o=function(){function t(){this._parent=null}return t.prototype.dispose=function(){this._parent=null},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){if(!t)throw new Error("cannot set parent widget to null");if(t!==this._parent){if(this._parent)throw new Error("layout already installed on a widget");this._parent=t,this.reparentChildWidgets(),this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){throw new Error("not implemented")},enumerable:!0,configurable:!0}),t.prototype.itemAt=function(t){throw new Error("not implemented")},t.prototype.removeAt=function(t){throw new Error("not implemented")},t.prototype.sizeHint=function(){throw new Error("not implemented")},t.prototype.minSize=function(){throw new Error("not implemented")},t.prototype.maxSize=function(){throw new Error("not implemented")},t.prototype.widgetAt=function(t){var e=this.itemAt(t);return e&&e.widget||void 0},t.prototype.indexOf=function(t){for(var e=0,i=this.count;i>e;++e){var n=this.itemAt(e);if(n===t||n.widget===t)return e}return-1},t.prototype.remove=function(t){var e=this.indexOf(t);return-1!==e&&this.removeAt(e),e},t.prototype.alignment=function(t){var e=this.indexOf(t);return-1===e?0:this.itemAt(e).alignment},t.prototype.setAlignment=function(t,e){var i=this.indexOf(t);if(-1===i)return!1;var n=this.itemAt(i);return n.alignment!==e&&(n.alignment=e,this.invalidate()),!0},t.prototype.invalidate=function(){var t=this._parent;t&&(n(t,new i("layout-request")),t.updateGeometry())},t.prototype.update=function(){var t=this._parent;if(t.isVisible){var e=t.boxSizing,i=e.paddingLeft,n=e.paddingTop,o=t.width-e.horizontalSum,r=t.height-e.verticalSum;this.layout(i,n,o,r)}},t.prototype.filterMessage=function(t,e){return t===this._parent&&this.processParentMessage(e),!1},t.prototype.processParentMessage=function(t){switch(t.type){case"resize":case"layout-request":this.update();break;case"child-removed":this.remove(t.child);break;case"before-attach":this.invalidate()}},t.prototype.layout=function(t,e,i,n){},t.prototype.ensureParent=function(t){var e=this._parent;e&&(t.parent=e)},t.prototype.reparentChildWidgets=function(){var t=this._parent;if(t)for(var e=0,i=this.count;i>e;++e){var n=this.itemAt(e).widget;n&&(n.parent=t)}},t}();e.Layout=o}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t,e){var i=t.length;if(0!==i){for(var n=0,o=0,r=0,s=0,a=0,h=0,c=0;i>c;++c){var u=t[c],p=u.minSize,d=u.maxSize,l=Math.max(p,Math.min(u.sizeHint,d));u.done=!1,u.size=l,r+=l,n+=p,o+=d,u.stretch>0&&(s+=u.stretch,a++),u.expansive&&h++}if(e!==r)if(n>=e)for(var c=0;i>c;++c){var u=t[c];u.size=u.minSize}else if(e>=o)for(var c=0;i>c;++c){var u=t[c];u.size=u.maxSize}else{var f=.01,_=i;if(r>e){for(var v=r-e;a>0&&v>f;)for(var m=v,y=s,c=0;i>c;++c){var u=t[c];if(!u.done&&0!==u.stretch){var g=u.stretch*m/y;u.size-g<=u.minSize?(v-=u.size-u.minSize,s-=u.stretch,u.size=u.minSize,u.done=!0,_--,a--):(v-=g,u.size-=g)}}for(;_>0&&v>f;)for(var g=v/_,c=0;i>c;++c){var u=t[c];u.done||(u.size-g<=u.minSize?(v-=u.size-u.minSize,u.size=u.minSize,u.done=!0,_--):(v-=g,u.size-=g))}}else{for(var v=e-r;a>0&&v>f;)for(var m=v,y=s,c=0;i>c;++c){var u=t[c];if(!u.done&&0!==u.stretch){var g=u.stretch*m/y;u.size+g>=u.maxSize?(v-=u.maxSize-u.size,s-=u.stretch,u.size=u.maxSize,u.done=!0,_--,a--,u.expansive&&h--):(v-=g,u.size+=g)}}for(;h>0&&v>f;)for(var g=v/h,c=0;i>c;++c){var u=t[c];!u.done&&u.expansive&&(u.size+g>=u.maxSize?(v-=u.maxSize-u.size,u.size=u.maxSize,u.done=!0,h--,_--):(v-=g,u.size+=g))}for(;_>0&&v>f;)for(var g=v/_,c=0;i>c;++c){var u=t[c];u.done||(u.size+g>=u.maxSize?(v-=u.maxSize-u.size,u.size=u.maxSize,u.done=!0,_--):(v-=g,u.size+=g))}}}}}var i=function(){function t(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.expansive=!1,this.size=0,this.done=!1}return t}();t.LayoutSizer=i,t.layoutCalc=e}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.utility.Size,n=function(){function t(t,e,i,n){this.setSizing(t,e,i,n)}return Object.defineProperty(t.prototype,"isWidget",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSpacer",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widget",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandHorizontal",{get:function(){var t=this._sizePolicy>>16;return 0!==(4&t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandVertical",{get:function(){var t=65535&this._sizePolicy;return 0!==(4&t)},enumerable:!0,configurable:!0}),t.prototype.setSizing=function(t,e,n,o){var r=Math.max(0,t),s=Math.max(0,e);this._size=new i(r,s),this._sizePolicy=n<<16|o},t.prototype.transpose=function(){var t=this._size,e=this._sizePolicy>>16,n=65535&this._sizePolicy;this._size=new i(t.height,t.width),this._sizePolicy=n<<16|e},t.prototype.invalidate=function(){},t.prototype.sizeHint=function(){return this._size},t.prototype.minSize=function(){var t=this._size,e=this._sizePolicy>>16,n=65535&this._sizePolicy,o=2&e?0:t.width,r=2&n?0:t.height;return new i(o,r)},t.prototype.maxSize=function(){var t=this._size,e=this._sizePolicy>>16,n=65535&this._sizePolicy,o=1&e?1/0:t.width,r=1&n?1/0:t.height;return new i(o,r)},t.prototype.setGeometry=function(t,e,i,n){},t}();e.SpacerItem=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.utility.Size,n=function(){function t(t,e){void 0===e&&(e=0),this._origHint=null,this._sizeHint=null,this._minSize=null,this._maxSize=null,this._widget=t,this._alignment=e}return Object.defineProperty(t.prototype,"isWidget",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSpacer",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widget",{get:function(){return this._widget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(t){this._alignment=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandHorizontal",{get:function(){if(this._alignment&e.Alignment.Horizontal_Mask)return!1;var t=this._widget.horizontalSizePolicy;return 0!==(4&t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandVertical",{get:function(){if(this._alignment&e.Alignment.Vertical_Mask)return!1;var t=this._widget.verticalSizePolicy;return 0!==(4&t)},enumerable:!0,configurable:!0}),t.prototype.invalidate=function(){this._origHint=null,this._sizeHint=null,this._minSize=null,this._maxSize=null},t.prototype.sizeHint=function(){return this._sizeHint||this._updateSizes(),this._sizeHint},t.prototype.minSize=function(){return this._minSize||this._updateSizes(),this._minSize},t.prototype.maxSize=function(){return this._maxSize||this._updateSizes(),this._maxSize},t.prototype.setGeometry=function(t,i,n,o){var r=this._widget;if(!r.isHidden){var s=n,a=o,h=this._alignment;if(h&e.Alignment.Horizontal_Mask){var c=r.horizontalSizePolicy===e.SizePolicy.Ignored;s=Math.min(s,c?this._origHint.width:this._sizeHint.width)}if(h&e.Alignment.Vertical_Mask){var u=r.verticalSizePolicy===e.SizePolicy.Ignored;a=Math.min(a,u?this._origHint.height:this._sizeHint.height)}var p=this._minSize,d=this._maxSize;s=Math.max(p.width,Math.min(s,d.width)),a=Math.max(p.height,Math.min(a,d.height)),2&h?t+=n-s:4&h&&(t+=(n-s)/2),32&h?i+=o-a:64&h&&(i+=(o-a)/2),r.setGeometry(t,i,s,a)}},t.prototype._updateSizes=function(){var t=this._widget;if(t.isHidden)return this._origHint=i.Zero,this._sizeHint=i.Zero,this._minSize=i.Zero,void(this._maxSize=i.Zero);var n=t.boxSizing,o=t.sizeHint(),r=t.minSizeHint(),s=t.maxSizeHint(),a=t.verticalSizePolicy,h=t.horizontalSizePolicy,c=0,u=0;h!==e.SizePolicy.Ignored&&(c=Math.max(r.width,o.width)),a!==e.SizePolicy.Ignored&&(u=Math.max(r.height,o.height)),c=Math.max(n.minWidth,Math.min(c,n.maxWidth)),u=Math.max(n.minHeight,Math.min(u,n.maxHeight));var p=0,d=0;h!==e.SizePolicy.Ignored&&(p=2&h?r.width:Math.max(r.width,o.width)),a!==e.SizePolicy.Ignored&&(d=2&a?r.height:Math.max(r.height,o.height)),p=Math.max(n.minWidth,Math.min(p,n.maxWidth)),d=Math.max(n.minHeight,Math.min(d,n.maxHeight));var l=1/0,f=1/0,_=this._alignment;_&e.Alignment.Horizontal_Mask||(h!==e.SizePolicy.Ignored&&(l=1&h?Math.max(r.width,s.width):Math.max(r.width,o.width)),l=Math.max(n.minWidth,Math.min(l,n.maxWidth))),_&e.Alignment.Vertical_Mask||(a!==e.SizePolicy.Ignored&&(f=1&a?Math.max(r.height,s.height):Math.max(r.height,o.height)),f=Math.max(n.minHeight,Math.min(f,n.maxHeight))),this._origHint=o,this._sizeHint=new i(c,u),this._minSize=new i(p,d),this._maxSize=new i(l,f)},t}();e.WidgetItem=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t){return 0===t||1===t}var n=t.collections.algorithm,o=t.utility.Size,r=function(t){function r(e,i){void 0===i&&(i=8),t.call(this),this._dirty=!0,this._fixedSpace=0,this._lastSpaceIndex=-1,this._sizeHint=null,this._minSize=null,this._maxSize=null,this._items=[],this._sizers=[],this._direction=e,this._spacing=Math.max(0,i)}return __extends(r,t),r.prototype.dispose=function(){this._items=null,this._sizers=null,t.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"direction",{get:function(){return this._direction},set:function(t){t!==this._direction&&(i(this._direction)!==i(t)&&this._items.forEach(function(t){t instanceof e.SpacerItem&&t.transpose()}),this._direction=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"spacing",{get:function(){return this._spacing},set:function(t){t=Math.max(0,t),t!==this._spacing&&(this._spacing=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),r.prototype.itemAt=function(t){return this._items[t]},r.prototype.removeAt=function(t){var e=n.removeAt(this._items,t);return n.removeAt(this._sizers,t),e&&this.invalidate(),e},r.prototype.addWidget=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=0),this.insertWidget(this.count,t,e,i)},r.prototype.insertWidget=function(t,i,n,o){return void 0===n&&(n=0),void 0===o&&(o=0),this.remove(i),this.ensureParent(i),this._insert(t,new e.WidgetItem(i,o),n)},r.prototype.addSpacing=function(t){return this.insertSpacing(this.count,t)},r.prototype.insertSpacing=function(t,n){var o;return o=i(this._direction)?new e.SpacerItem(n,0,0,e.SizePolicy.Minimum):new e.SpacerItem(0,n,e.SizePolicy.Minimum,0),this._insert(t,o,0)},r.prototype.addStretch=function(t){return this.insertStretch(this.count,t)},r.prototype.insertStretch=function(t,n){var o;return o=i(this._direction)?new e.SpacerItem(0,0,e.SizePolicy.Expanding,e.SizePolicy.Minimum):new e.SpacerItem(0,0,e.SizePolicy.Minimum,e.SizePolicy.Expanding),this._insert(t,o,n)},r.prototype.stretch=function(t){var e="number"==typeof t?t:this.indexOf(t),i=this._sizers[e];return i?i.stretch:-1},r.prototype.setStretch=function(t,e){var i="number"==typeof t?t:this.indexOf(t),n=this._sizers[i];return n?(e=Math.max(0,0|e),n.stretch!==e&&(n.stretch=e,this.invalidate()),!0):!1},r.prototype.invalidate=function(){this._dirty=!0,t.prototype.invalidate.call(this)},r.prototype.sizeHint=function(){return this._dirty&&this._setupGeometry(),this._sizeHint},r.prototype.minSize=function(){return this._dirty&&this._setupGeometry(),this._minSize},r.prototype.maxSize=function(){return this._dirty&&this._setupGeometry(),this._maxSize},r.prototype.layout=function(t,n,o,r){var s=this._items;if(0!==s.length){this._dirty&&this._setupGeometry();var a=this._direction,h=this._sizers,c=this._lastSpaceIndex,u=i(a)?o:r;e.layoutCalc(h,Math.max(0,u-this._fixedSpace));var p=!1,d=this._spacing,l=s.length;if(0===a)for(var f=0;l>f;++f){var _=s[f];if(!_.isHidden){p&&c>=f&&(t+=d);var v=h[f].size;_.setGeometry(t,n,v,r),p=_.isWidget,t+=v}}else if(2===a)for(var f=0;l>f;++f){var _=s[f];if(!_.isHidden){p&&c>=f&&(n+=d);var v=h[f].size;_.setGeometry(t,n,o,v),p=_.isWidget,n+=v}}else if(1===a){t+=o;for(var f=0;l>f;++f){var _=s[f];if(!_.isHidden){p&&c>=f&&(t-=d);var v=h[f].size;_.setGeometry(t-v,n,v,r),p=_.isWidget,t-=v}}}else{n+=r;for(var f=0;l>f;++f){var _=s[f];if(!_.isHidden){p&&c>=f&&(n-=d);var v=h[f].size;_.setGeometry(t,n-v,o,v),p=_.isWidget,n-=v}}}}},r.prototype._setupGeometry=function(){if(this._dirty){this._dirty=!1;var t=this.parent;if(!t)return this._sizeHint=o.Zero,this._minSize=o.Zero,this._maxSize=o.Zero,void(this._fixedSpace=0);for(var e=-1,n=this._items,r=n.length,s=0;r>s;++s){var a=n[s];a.invalidate(),a.isWidget&&!a.isHidden&&(e=s)}var h,c,u=0,p=0,d=0,l=0,f=0,_=!1,v=this._direction,m=this._spacing,y=this._sizers;if(i(v)){c=1/0,h=r>0?0:1/0;for(var s=0;r>s;++s){var a=n[s],g=y[s];if(a.isHidden)g.sizeHint=0,g.minSize=0,g.maxSize=0,g.expansive=!1;else{var b=a.sizeHint(),w=a.minSize(),x=a.maxSize();p=Math.max(p,b.height),l=Math.max(l,w.height),c=Math.min(c,x.height),u+=b.width,d+=w.width,h+=x.width,g.sizeHint=b.width,g.minSize=w.width,g.maxSize=x.width,g.expansive=a.expandHorizontal,_&&e>=s&&(f+=m),_=a.isWidget}}u+=f,d+=f,h+=f}else{h=1/0,c=r>0?0:1/0;for(var s=0;r>s;++s){var a=n[s],g=y[s];if(a.isHidden)g.sizeHint=0,g.minSize=0,g.maxSize=0,g.expansive=!1;else{var b=a.sizeHint(),w=a.minSize(),x=a.maxSize();u=Math.max(u,b.width),d=Math.max(d,w.width),h=Math.min(h,x.width),p+=b.height,l+=w.height,c+=x.height,g.sizeHint=b.height,g.minSize=w.height,g.maxSize=x.height,g.expansive=a.expandVertical,_&&e>=s&&(f+=m),_=a.isWidget}}p+=f,l+=f,c+=f}var z=t.boxSizing,P=z.horizontalSum,S=z.verticalSum;u+=P,p+=S,d+=P,l+=S,h+=P,c+=S,this._sizeHint=new o(u,p),this._minSize=new o(d,l),this._maxSize=new o(h,c),this._fixedSpace=f,this._lastSpaceIndex=e}},r.prototype._insert=function(t,i,o){var r=new e.LayoutSizer;return r.stretch=Math.max(0,0|o),t=n.insert(this._items,t,i),n.insert(this._sizers,t,r),this.invalidate(),t},r}(e.Layout);e.BoxLayout=r}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e="p-SplitHandle",i="p-SplitHandle-overlay",n="p-mod-horizontal",o="p-mod-vertical",r="p-mod-hidden",s=function(){function t(t){this._hidden=!1,this._node=this.createNode(),this.orientation=t}return Object.defineProperty(t.prototype,"hidden",{get:function(){return this._hidden},set:function(t){t!==this._hidden&&(this._hidden=t,t?this._node.classList.add(r):this._node.classList.remove(r))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(t){t!==this._orientation&&(this._orientation=t,0===t?(this._node.classList.remove(o),this._node.classList.add(n)):(this._node.classList.remove(n),this._node.classList.add(o)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var t=document.createElement("div"),n=document.createElement("div");return t.className=e,n.className=i,t.appendChild(n),t},t}();t.SplitHandle=s}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t){for(var e=0,i=t.length;i>e;++e){var n=t[e];n.size>0&&(n.sizeHint=n.size)}}function n(t,e,i){for(var n=0,o=0;e>=o;++o){var r=t[o];n+=r.maxSize-r.size}for(var s=0,o=e+1,a=t.length;a>o;++o){var r=t[o];s+=r.size-r.minSize}i=Math.min(i,n,s);for(var h=i,o=e;o>=0&&h>0;--o){var r=t[o],c=r.maxSize-r.size;c>=h?(r.sizeHint=r.size+h,h=0):(r.sizeHint=r.size+c,h-=c)}for(var u=i,o=e+1,a=t.length;a>o&&u>0;++o){var r=t[o],c=r.size-r.minSize;c>=u?(r.sizeHint=r.size-u,u=0):(r.sizeHint=r.size-c,u-=c)}}function o(t){var e=t.length;if(0===e)return[];for(var i=0,n=0;e>n;++n)i+=t[n];var o=new Array(e);if(0===i)for(var n=0;e>n;++n)o[n]=1/e;else for(var n=0;e>n;++n)o[n]=t[n]/i;return o}var r=t.collections.algorithm,s=t.utility.Size,a=function(t){function a(e){t.call(this),this._dirty=!0,this._handleSize=3,this._fixedSpace=0,this._sizeHint=null,this._minSize=null,this._maxSize=null,this._items=[],this._sizers=[],this._orientation=e}return __extends(a,t),a.prototype.dispose=function(){this._items=null,this._sizers=null,t.prototype.dispose.call(this)},Object.defineProperty(a.prototype,"orientation",{get:function(){return this._orientation},set:function(t){t!==this._orientation&&(this._orientation=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"handleSize",{get:function(){return this._handleSize},set:function(t){t=Math.max(0,0|t),t!==this._handleSize&&(this._handleSize=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),a.prototype.sizes=function(){return o(this._sizers.map(function(t){return t.size}))},a.prototype.setSizes=function(t){var e=this.parent;if(e){var i,n=e.boxSizing;i=0===this._orientation?e.width-n.horizontalSum-this._fixedSpace:e.height-n.verticalSum-this._fixedSpace;for(var r=this._sizers,s=o(t),a=Math.min(r.length,s.length),h=0;a>h;++h){var c=Math.round(s[h]*i),u=r[h];u.size=c,u.sizeHint=c}e.isVisible&&this.update()}},a.prototype.handleAt=function(t){var e=this._items[t];return e?e.handle:void 0},a.prototype.moveHandle=function(t,e){var o=this._items[t];if(o&&!o.handle.hidden){var r;if(r=0===this._orientation?e-o.handle.node.offsetLeft:e-o.handle.node.offsetTop,0!==r){var s=this._sizers;i(s),r>0?n(s,t,r):(s.reverse(),n(s,s.length-(t+2),-r),s.reverse()),this.update()}}},a.prototype.itemAt=function(t){return this._items[t]},a.prototype.removeAt=function(t){var e=r.removeAt(this._items,t);if(r.removeAt(this._sizers,t),e){var i=e.handle.node,n=i.parentNode;n&&n.removeChild(i),this.invalidate()}return e},a.prototype.addWidget=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=0),this.insertWidget(this.count,t,e,i)},a.prototype.insertWidget=function(t,i,n,o){void 0===n&&(n=0),void 0===o&&(o=0),this.remove(i),this.ensureParent(i);var s=new e.SplitHandle(this._orientation),a=new h(s,i,o),c=new e.LayoutSizer;return c.stretch=Math.max(0,0|n),t=r.insert(this._items,t,a),r.insert(this._sizers,t,c),this.invalidate(),t},a.prototype.stretch=function(t){var e="number"==typeof t?t:this.indexOf(t),i=this._sizers[e];return i?i.stretch:-1},a.prototype.setStretch=function(t,e){var i="number"==typeof t?t:this.indexOf(t),n=this._sizers[i];return n?(e=Math.max(0,0|e),n.stretch!==e&&(n.stretch=e,this.invalidate()),!0):!1},a.prototype.invalidate=function(){this._dirty=!0,t.prototype.invalidate.call(this)},a.prototype.sizeHint=function(){return this._dirty&&this._setupGeometry(),this._sizeHint},a.prototype.minSize=function(){return this._dirty&&this._setupGeometry(),this._minSize},a.prototype.maxSize=function(){return this._dirty&&this._setupGeometry(),this._maxSize},a.prototype.layout=function(t,i,n,o){var r=this._items;if(0!==r.length){this._dirty&&this._setupGeometry();var s=this._orientation,a=this._sizers,h=0===s?n:o;e.layoutCalc(a,Math.max(0,h-this._fixedSpace));var c=this._handleSize,u=r.length;if(0===s)for(var p=0;u>p;++p){var d=r[p];if(!d.isHidden){var l=a[p].size,f=d.handle.node.style;d.setGeometry(t,i,l,o),f.top=i+"px",f.left=t+l+"px",f.width=c+"px",f.height=o+"px",t+=l+c}}else for(var p=0;u>p;++p){var d=r[p];if(!d.isHidden){var l=a[p].size,f=d.handle.node.style;d.setGeometry(t,i,n,l),f.top=i+l+"px",f.left=t+"px",f.width=n+"px",f.height=c+"px",i+=l+c}}}},a.prototype._setupGeometry=function(){if(this._dirty){this._dirty=!1;var t=this.parent;if(!t)return this._sizeHint=s.Zero,this._minSize=s.Zero,this._maxSize=s.Zero,void(this._fixedSpace=0);for(var e=!1,n=t.node,o=this._orientation,r=this._items,a=r.length,h=a-1;h>=0;--h){var c=r[h],u=c.handle,p=u.node;c.invalidate(),u.orientation=o,u.hidden=c.isHidden,p.parentNode!==n&&n.appendChild(p),e||c.isHidden||(c.handle.hidden=!0,e=!0)}var d,l,f=0,_=0,v=0,m=0,y=0,g=this._handleSize,b=this._sizers;if(i(b),0===o){l=1/0,d=a>0?0:1/0;for(var h=0;a>h;++h){var c=r[h],w=b[h];if(c.isHidden)w.minSize=0,w.maxSize=0,w.expansive=!1;else{var x=c.sizeHint(),z=c.minSize(),P=c.maxSize();_=Math.max(_,x.height),m=Math.max(m,z.height),l=Math.min(l,P.height),f+=x.width,v+=z.width,d+=P.width,w.minSize=z.width,w.maxSize=P.width,w.expansive=c.expandHorizontal,0===w.sizeHint&&(w.sizeHint=x.width),c.handle.hidden||(y+=g)}}f+=y,v+=y,d+=y}else{d=1/0,l=a>0?0:1/0;for(var h=0;a>h;++h){var c=r[h],w=b[h];if(c.isHidden)w.minSize=0,w.maxSize=0,w.expansive=!1;else{var x=c.sizeHint(),z=c.minSize(),P=c.maxSize();f=Math.max(f,x.width),v=Math.max(v,z.width),d=Math.min(d,P.width),_+=x.height,m+=z.height,l+=P.height,w.minSize=z.height,w.maxSize=P.height,w.expansive=c.expandVertical,0===w.sizeHint&&(w.sizeHint=x.height),c.handle.hidden||(y+=g)}}_+=y,m+=y,l+=y}var S=t.boxSizing,M=S.horizontalSum,O=S.verticalSum;f+=M,_+=O,v+=M,m+=O,d+=M,l+=O,this._sizeHint=new s(f,_),this._minSize=new s(v,m),this._maxSize=new s(d,l),this._fixedSpace=y}},a}(e.Layout);e.SplitLayout=a;var h=function(t){function e(e,i,n){void 0===n&&(n=0),t.call(this,i,n),this._handle=e}return __extends(e,t),Object.defineProperty(e.prototype,"handle",{get:function(){return this._handle},enumerable:!0,configurable:!0}),e}(e.WidgetItem);e.SplitItem=h}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.collections.algorithm,n=t.core.Signal,o=t.utility.Pair,r=t.utility.Size,s=function(t){function s(){t.call(this),this.widgetRemoved=new n,this._dirty=!0,this._sizeHint=null,this._minSize=null,this._maxSize=null,this._items=[],this._currentItem=null}return __extends(s,t),s.prototype.dispose=function(){this.widgetRemoved.disconnect(),this._currentItem=null,this._items=null,t.prototype.dispose.call(this)},Object.defineProperty(s.prototype,"currentIndex",{get:function(){return i.indexOf(this._items,this._currentItem)},set:function(t){var e=this._currentItem,i=this.itemAt(t)||null;e!==i&&(this._currentItem=i,e&&e.widget.hide(),i&&i.widget.show(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"currentWidget",{get:function(){return this._currentItem.widget},set:function(t){this.currentIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),s.prototype.itemAt=function(t){return this._items[t]},s.prototype.removeAt=function(t){var e=i.removeAt(this._items,t);return e?(e===this._currentItem&&(this._currentItem=null,e.widget.hide()),this.widgetRemoved.emit(this,new o(t,e.widget)),e):void 0},s.prototype.addWidget=function(t,e){return void 0===e&&(e=0),this.insertWidget(this.count,t,e)},s.prototype.insertWidget=function(t,n,o){return void 0===o&&(o=0),n.hide(),this.remove(n),this.ensureParent(n),i.insert(this._items,t,new e.WidgetItem(n,o))},s.prototype.moveWidget=function(t,e){return i.move(this._items,t,e)},s.prototype.invalidate=function(){this._dirty=!0,t.prototype.invalidate.call(this)},s.prototype.sizeHint=function(){return this._dirty&&this._setupGeometry(),this._sizeHint},s.prototype.minSize=function(){return this._dirty&&this._setupGeometry(),this._minSize},s.prototype.maxSize=function(){return this._dirty&&this._setupGeometry(),this._maxSize},s.prototype.layout=function(t,e,i,n){this._dirty&&this._setupGeometry(),null!==this._currentItem&&this._currentItem.setGeometry(t,e,i,n)},s.prototype._setupGeometry=function(){if(this._dirty){this._dirty=!1;var t=this.parent;if(!t)return this._sizeHint=r.Zero,this._minSize=r.Zero,void(this._maxSize=r.Zero);var e=0,i=0,n=0,o=0,s=1/0,a=1/0,h=this._currentItem;if(null!==h){h.invalidate();var c=h.sizeHint(),u=h.minSize(),p=h.maxSize();e=Math.max(e,c.width),i=Math.max(i,c.height),n=Math.max(n,u.width),o=Math.max(o,u.height),s=Math.min(s,p.width),a=Math.min(a,p.height)}var d=t.boxSizing,l=d.horizontalSum,f=d.verticalSum;e+=l,i+=f,n+=l,o+=f,s+=l,a+=f,this._sizeHint=new r(e,i),this._minSize=new r(n,o),this._maxSize=new r(s,a)}},s}(e.Layout);e.StackedLayout=s}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t,e){for(var i=0;i<t.length;++i)p(t[i],e)}function n(t,e){for(var i=0;i<t.length;++i){var n=t[i];n.isHidden||p(n,e)}}var o=t.collections.algorithm,r=t.core.Message,s=t.core.Signal,a=t.core.clearMessageData,h=t.core.installMessageFilter,c=t.core.postMessage,u=t.core.removeMessageFilter,p=t.core.sendMessage,d=t.utility.Size,l=t.utility.createBoxSizing,f="p-Widget",_="p-mod-hidden",v=function(){function t(){this.disposed=new s,this._layout=null,this._parent=null,this._children=[],this._sizePolicy=m,this._boxSizing=null,this._x=0,this._y=0,this._width=0,this._height=0,this._flags=0,this._node=this.createNode(),this.addClass(f)}return t.prototype.dispose=function(){a(this),this.setFlag(8),this.disposed.emit(this,void 0),this.disposed.disconnect();var t=this._layout;t&&(this._layout=null,t.dispose());var i=this._parent;i?(this._parent=null,o.remove(i._children,this),p(i,new e.ChildMessage("child-removed",this))):this.isAttached&&this.detach();for(var n=this._children,r=0;r<n.length;++r){var s=n[r];n[r]=null,s._parent=null,s.dispose()}n.length=0,this._node=null},Object.defineProperty(t.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this.move(t,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this.move(this._x,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this.resize(t,this._height)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this.resize(this._width,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalSizePolicy",{get:function(){return this._sizePolicy>>16},set:function(t){this.setSizePolicy(t,this.verticalSizePolicy)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalSizePolicy",{get:function(){return 65535&this._sizePolicy},set:function(t){this.setSizePolicy(this.horizontalSizePolicy,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxSizing",{get:function(){return this._boxSizing||(this._boxSizing=l(this._node)),this._boxSizing},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.testFlag(1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.testFlag(8)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.testFlag(2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.testFlag(4)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layout",{
get:function(){return this._layout},set:function(t){t=t||null;var e=this._layout;if(e!==t){if(this.testFlag(16))throw new Error("cannot change widget layout");if(t&&t.parent)throw new Error("layout already installed on a widget");e&&(this._layout=null,u(this,e),e.dispose()),t&&(this._layout=t,h(this,t),t.parent=this),p(this,new r("layout-changed"))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){t=t||null;var i=this._parent;i!==t&&(i&&(this._parent=null,o.remove(i._children,this),p(i,new e.ChildMessage("child-removed",this))),t&&(this._parent=t,t._children.push(this),p(t,new e.ChildMessage("child-added",this))),p(this,new r("parent-changed")))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childCount",{get:function(){return this._children.length},enumerable:!0,configurable:!0}),t.prototype.childAt=function(t){return this._children[t]},t.prototype.hasClass=function(t){return this._node.classList.contains(t)},t.prototype.addClass=function(t){this._node.classList.add(t)},t.prototype.removeClass=function(t){this._node.classList.remove(t)},t.prototype.testFlag=function(t){return 0!==(this._flags&t)},t.prototype.setFlag=function(t){this._flags|=t},t.prototype.clearFlag=function(t){this._flags&=~t},t.prototype.show=function(){if(this.isHidden){var t=this._parent;!this.isAttached||t&&!t.isVisible?(this.removeClass(_),this.clearFlag(2)):(p(this,new r("before-show")),this.removeClass(_),this.clearFlag(2),p(this,new r("after-show"))),t&&p(t,new e.ChildMessage("child-shown",this)),this.updateGeometry()}},t.prototype.hide=function(){if(!this.isHidden){var t=this._parent;!this.isAttached||t&&!t.isVisible?(this.addClass(_),this.setFlag(2)):(p(this,new r("before-hide")),this.addClass(_),this.setFlag(2),p(this,new r("after-hide"))),t&&p(t,new e.ChildMessage("child-hidden",this)),this.updateGeometry(!0)}},t.prototype.setVisible=function(t){t?this.show():this.hide()},t.prototype.close=function(){p(this,new r("close"))},t.prototype.attach=function(t){if(this._parent)throw new Error("cannot attach a non-root widget to the DOM");p(this,new r("before-attach")),t.appendChild(this._node),p(this,new r("after-attach"))},t.prototype.detach=function(){if(this._parent)throw new Error("cannot dettach a non-root widget from the DOM");var t=this._node.parentNode;t&&(p(this,new r("before-detach")),t.removeChild(this._node),p(this,new r("after-detach")))},t.prototype.fit=function(t,e,i){if(this._parent)throw new Error("cannot fit a non-root widget");var n=this._node.parentNode;if(n){void 0===t&&(t=n.offsetWidth),void 0===e&&(e=n.offsetHeight),void 0===i&&(i=l(n));var o=i.paddingLeft,r=i.paddingTop,s=t-i.horizontalSum,a=e-i.verticalSum;this.setGeometry(o,r,s,a)}},t.prototype.sizeHint=function(){return this._layout?this._layout.sizeHint():d.Zero},t.prototype.minSizeHint=function(){return this._layout?this._layout.minSize():d.Zero},t.prototype.maxSizeHint=function(){return this._layout?this._layout.maxSize():d.Infinite},t.prototype.invalidateBoxSizing=function(){this._boxSizing=null,this._layout?this._layout.invalidate():c(this,new r("layout-request")),this.updateGeometry()},t.prototype.updateGeometry=function(t){void 0===t&&(t=!1);var e=this._parent;!e||this.isHidden&&!t||(e._layout?e._layout.invalidate():(c(e,new r("layout-request")),e.updateGeometry()))},t.prototype.move=function(t,e){this.setGeometry(t,e,this._width,this._height)},t.prototype.resize=function(t,e){this.setGeometry(this._x,this._y,t,e)},t.prototype.setGeometry=function(t,i,n,o){var r=!1,s=!1,a=this._x,h=this._y,c=this._width,u=this._height,d=this.boxSizing,l=this._node.style,f=Math.max(d.minWidth,Math.min(n,d.maxWidth)),_=Math.max(d.minHeight,Math.min(o,d.maxHeight));a!==t&&(this._x=t,l.left=t+"px",r=!0),h!==i&&(this._y=i,l.top=i+"px",r=!0),c!==f&&(this._width=f,l.width=f+"px",s=!0),u!==_&&(this._height=_,l.height=_+"px",s=!0),r&&p(this,new e.MoveMessage(a,h,t,i)),s&&p(this,new e.ResizeMessage(c,u,f,_))},t.prototype.setSizePolicy=function(t,e){var i=t<<16|e;i!==this._sizePolicy&&(this._sizePolicy=i,this.updateGeometry())},t.prototype.processMessage=function(t){switch(t.type){case"move":this.onMove(t);break;case"resize":this.onResize(t);break;case"child-added":this.onChildAdded(t);break;case"child-removed":this.onChildRemoved(t);break;case"before-show":this.onBeforeShow(t),n(this._children,t);break;case"after-show":this.setFlag(4),this.onAfterShow(t),n(this._children,t);break;case"before-hide":this.onBeforeHide(t),n(this._children,t);break;case"after-hide":this.clearFlag(4),this.onAfterHide(t),n(this._children,t);break;case"before-attach":this._boxSizing=null,this.onBeforeAttach(t),i(this._children,t);break;case"after-attach":var e=this._parent,o=!this.isHidden&&(!e||e.isVisible);o&&this.setFlag(4),this.setFlag(1),this.onAfterAttach(t),i(this._children,t);break;case"before-detach":this.onBeforeDetach(t),i(this._children,t);break;case"after-detach":this.clearFlag(4),this.clearFlag(1),this.onAfterDetach(t),i(this._children,t);break;case"close":this.onClose(t)}},t.prototype.compressMessage=function(t,e){return"layout-request"===t.type?e.some(function(t){return"layout-request"===t.type}):!1},t.prototype.createNode=function(){return document.createElement("div")},t.prototype.onClose=function(t){this.parent=null},t.prototype.onChildAdded=function(t){var e=t.child;this.isAttached?(p(e,new r("before-attach")),this._node.appendChild(e._node),p(e,new r("after-attach"))):this._node.appendChild(e._node)},t.prototype.onChildRemoved=function(t){var e=t.child;this.isAttached?(p(e,new r("before-detach")),this._node.removeChild(e._node),p(e,new r("after-detach"))):this._node.removeChild(e._node)},t.prototype.onMove=function(t){},t.prototype.onResize=function(t){},t.prototype.onBeforeShow=function(t){},t.prototype.onAfterShow=function(t){},t.prototype.onBeforeHide=function(t){},t.prototype.onAfterHide=function(t){},t.prototype.onBeforeAttach=function(t){},t.prototype.onAfterAttach=function(t){},t.prototype.onBeforeDetach=function(t){},t.prototype.onAfterDetach=function(t){},t}();e.Widget=v;var m=e.SizePolicy.Preferred<<16|e.SizePolicy.Preferred}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(t){var e=function(t){function e(e){t.call(this),this.layout=e,this.setFlag(16)}return __extends(e,t),Object.defineProperty(e.prototype,"count",{get:function(){return this.layout.count},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(t){return this.layout.indexOf(t)},e.prototype.widgetAt=function(t){return this.layout.widgetAt(t)},e.prototype.alignment=function(t){return this.layout.alignment(t)},e.prototype.setAlignment=function(t,e){return this.layout.setAlignment(t,e)},e}(t.Widget);t.Panel=e}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(t){var e="p-BoxPanel",i=function(i){function n(n,o){void 0===n&&(n=2),void 0===o&&(o=8),i.call(this,new t.BoxLayout(n,o)),this.addClass(e)}return __extends(n,i),Object.defineProperty(n.prototype,"direction",{get:function(){return this.layout.direction},set:function(t){this.layout.direction=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(t){this.layout.spacing=t},enumerable:!0,configurable:!0}),n.prototype.addWidget=function(t,e,i){return this.layout.addWidget(t,e,i)},n.prototype.insertWidget=function(t,e,i,n){return this.layout.insertWidget(t,e,i,n)},n.prototype.addSpacing=function(t){return this.layout.addSpacing(t)},n.prototype.insertSpacing=function(t,e){return this.layout.insertSpacing(t,e)},n.prototype.addStretch=function(t){return this.layout.addStretch(t)},n.prototype.insertStretch=function(t,e){return this.layout.insertStretch(t,e)},n.prototype.stretch=function(t){return this.layout.stretch(t)},n.prototype.setStretch=function(t,e){return this.layout.setStretch(t,e)},n}(t.Panel);t.BoxPanel=i}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.utility.overrideCursor,n="p-SplitPanel",o=function(t){function o(i){void 0===i&&(i=0),t.call(this,new e.SplitLayout(i)),this._pressData=null,this.addClass(n)}return __extends(o,t),o.prototype.dispose=function(){this._releaseMouse(),t.prototype.dispose.call(this)},Object.defineProperty(o.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(t){this.layout.orientation=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"handleSize",{get:function(){return this.layout.handleSize},set:function(t){this.layout.handleSize=t},enumerable:!0,configurable:!0}),o.prototype.sizes=function(){return this.layout.sizes()},o.prototype.setSizes=function(t){this.layout.setSizes(t)},o.prototype.addWidget=function(t,e,i){return this.layout.addWidget(t,e,i)},o.prototype.insertWidget=function(t,e,i,n){return this.layout.insertWidget(t,e,i,n)},o.prototype.stretch=function(t){return this.layout.stretch(t)},o.prototype.setStretch=function(t,e){return this.layout.setStretch(t,e)},o.prototype.onAfterAttach=function(t){this.node.addEventListener("mousedown",this)},o.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this)},o.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mouseup":this._evtMouseUp(t);break;case"mousemove":this._evtMouseMove(t)}},o.prototype._evtMouseDown=function(t){if(0===t.button){var e=this._findHandle(t.target);if(e){t.preventDefault(),t.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0);var n,o=e.handle.node,r=o.getBoundingClientRect();n=0===this.orientation?t.clientX-r.left:t.clientY-r.top;var s=i(window.getComputedStyle(o).cursor);this._pressData={index:e.index,delta:n,cursor:s}}}},o.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this._releaseMouse())},o.prototype._evtMouseMove=function(t){t.preventDefault(),t.stopPropagation();var e,i=this._pressData,n=this.layout,o=this.node.getBoundingClientRect();e=0===n.orientation?t.clientX-i.delta-o.left:t.clientY-i.delta-o.top,n.moveHandle(i.index,e)},o.prototype._findHandle=function(t){for(var e=this.layout,i=0,n=e.count;n>i;++i){var o=e.handleAt(i);if(o.node.contains(t))return{index:i,handle:o}}return null},o.prototype._releaseMouse=function(){this._pressData&&(this._pressData.cursor.dispose(),this._pressData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0))},o}(e.Panel);e.SplitPanel=o}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Signal,n="p-StackedPanel",o=function(t){function o(){t.call(this,new e.StackedLayout),this.widgetRemoved=new i,this.addClass(n);var o=this.layout;o.widgetRemoved.connect(this._sl_widgetRemoved,this)}return __extends(o,t),o.prototype.dispose=function(){this.widgetRemoved.disconnect(),t.prototype.dispose.call(this)},Object.defineProperty(o.prototype,"currentIndex",{get:function(){return this.layout.currentIndex},set:function(t){this.layout.currentIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"currentWidget",{get:function(){return this.layout.currentWidget},set:function(t){this.layout.currentWidget=t},enumerable:!0,configurable:!0}),o.prototype.addWidget=function(t,e){return void 0===e&&(e=0),this.layout.addWidget(t,e)},o.prototype.insertWidget=function(t,e,i){return void 0===i&&(i=0),this.layout.insertWidget(t,e,i)},o.prototype.moveWidget=function(t,e){return this.layout.moveWidget(t,e)},o.prototype._sl_widgetRemoved=function(t,e){this.widgetRemoved.emit(this,e)},o}(e.Panel);e.StackedPanel=o}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t,e){e?(t.node.style.position="absolute",t.node.classList.add(d)):(t.node.style.position="",t.node.classList.remove(d))}function n(t,e){for(var i=0,o=t.count;o>i;++i){var r,s=t.widgetAt(i);if(r=s instanceof _?e(s):n(s,e),void 0!==r)return r}return void 0}function o(t,e){var i=e(t);if(void 0!==i)return i;for(var n=0,r=t.count;r>n;++n){var s=t.widgetAt(n);if(s instanceof v&&(i=o(s,e),void 0!==i))return i}return void 0}var r=t.collections.algorithm,s=t.utility.hitTest,a=t.utility.overrideCursor,h="p-DockArea",c="p-DockSplitter",u="p-DockPanel",p="p-DockPanel-overlay",d="p-mod-floating",l=function(t){function c(){t.call(this),this._handleSize=3,this._tabWidth=175,this._tabOverlap=0,this._minTabWidth=45,this._ignoreRemoved=!1,this._root=null,this._dragData=null,this._items=[],this.addClass(h),this._root=this._createSplitter(0);var i=new e.BoxLayout(2,0);i.addWidget(this._root),this.layout=i,this.setFlag(16)}return __extends(c,t),c.prototype.dispose=function(){this._abortDrag(),this._root=null,this._items=null,t.prototype.dispose.call(this)},Object.defineProperty(c.prototype,"tabWidth",{get:function(){return this._tabWidth},set:function(t){t=Math.max(0,t),t!==this._tabWidth&&(this._tabWidth=t,n(this._root,function(e){e.tabBar.tabWidth=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"minTabWidth",{get:function(){return this._minTabWidth},set:function(t){t=Math.max(0,t),t!==this._minTabWidth&&(this._minTabWidth=t,n(this._root,function(e){e.tabBar.minTabWidth=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"tabOverlap",{get:function(){return this._tabOverlap},set:function(t){t!==this._tabOverlap&&(this._tabOverlap=t,n(this._root,function(e){e.tabBar.tabOverlap=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"handleSize",{get:function(){return this._handleSize},set:function(t){t!==this._handleSize&&(this._handleSize=t,o(this._root,function(e){e.handleSize=t}))},enumerable:!0,configurable:!0}),c.prototype.addWidget=function(t,e,i){switch(e){case 0:this._addWidget(t,1,!1);break;case 1:this._addWidget(t,0,!1);break;case 2:this._addWidget(t,0,!0);break;case 3:this._addWidget(t,1,!0);break;case 4:this._splitWidget(t,i,1,!1);break;case 5:this._splitWidget(t,i,0,!1);break;case 6:this._splitWidget(t,i,0,!0);break;case 7:this._splitWidget(t,i,1,!0);break;case 8:this._tabifyWidget(t,i,!1);break;case 9:this._tabifyWidget(t,i,!0);break;default:this._addWidget(t,0,!1)}},c.prototype.handleEvent=function(t){switch(t.type){case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation()}},c.prototype._evtMouseMove=function(t){t.preventDefault(),t.stopPropagation();var e=this._dragData;if(e){var o=t.clientX,r=t.clientY,a=n(this._root,function(t){return s(t.node,o,r)?t:void 0});e.lastHitPanel&&e.lastHitPanel!==a&&e.lastHitPanel.hideOverlay(),e.lastHitPanel=null;var h=o-e.offsetX,c=r-e.offsetY,u=e.item,p=u.widget.tab,d=p.node.style;if(!a)return d.left=h+"px",void(d.top=c+"px");if(!s(a.tabBar.node,o,r))return e.lastHitPanel=a,(a!==u.panel||a.tabBar.count>0)&&a.showOverlay(o,r),d.left=h+"px",void(d.top=c+"px");a.hideOverlay(),a!==u.panel&&(e.tempPanel=a,e.tempTab=a.tabBar.currentTab),i(p,!1),d.top="",d.left="",d.width="",a.tabBar.attachTab(p,o),document.removeEventListener("mousemove",this,!0)}},c.prototype._evtMouseUp=function(t){if(0===t.button){t.preventDefault(),t.stopPropagation(),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("contextmenu",this,!0);var e=this._dragData;if(e){this._dragData=null,e.cursorGrab.dispose(),e.lastHitPanel&&e.lastHitPanel.hideOverlay();var n=e.item,o=n.panel,r=o.tabBar,s=r.count,a=n.widget.tab;if(e.tempPanel)if(this._ignoreRemoved=!0,n.panel=e.tempPanel,n.panel.stackedPanel.addWidget(n.widget),n.panel.stackedPanel.currentWidget=n.widget,this._ignoreRemoved=!1,0===o.stackedPanel.count)this._removePanel(o);else{var h=r.indexOf(e.prevTab);-1===h&&(h=Math.min(e.index,s-1)),r.currentIndex=h}else{var c=4,u=e.lastHitPanel;!u||u===o&&0===s||(c=u.splitModeAt(t.clientX,t.clientY));var p=a.node.style;if(4===c)return void(r.currentTab!==a&&(i(a,!1),p.top="",p.left="",p.width="",r.insertTab(e.index,a)));document.body.removeChild(a.node),i(a,!1),p.top="",p.left="",p.width="";var d=2===c||3===c,l=1===c||2===c,f=l?0:1;this._splitPanel(u,n.widget,f,d);var h=r.indexOf(e.prevTab);-1===h&&(h=Math.min(e.index,s-1)),r.currentIndex=h}}}},c.prototype._addWidget=function(t,e,i){t.parent=null;var n=this._createPanel();this._items.push({widget:t,panel:n}),n.stackedPanel.addWidget(t),n.tabBar.addTab(t.tab),this._ensureRoot(e),i?this._root.addWidget(n):this._root.insertWidget(0,n)},c.prototype._splitWidget=function(t,e,i,n){if(t!==e){var o=r.find(this._items,function(t){return t.widget===e});o&&this._splitPanel(o.panel,t,i,n)}},c.prototype._splitPanel=function(t,e,i,n){e.parent=null;var o=this._createPanel();this._items.push({widget:e,panel:o}),o.stackedPanel.addWidget(e),o.tabBar.addTab(e.tab);var s=t.parent;if(s.orientation!==i)if(s.count<=1)s.orientation=i,s.insertWidget(n?1:0,o),s.setSizes([1,1]);else{var a=s.sizes(),h=s.indexOf(t),c=this._createSplitter(i);c.addWidget(t),c.insertWidget(n?1:0,o),s.insertWidget(h,c),s.setSizes(a),c.setSizes([1,1])}else{var h=s.indexOf(t),u=n?h+1:h,a=s.sizes(),p=a[h]=a[h]/2;s.insertWidget(u,o),r.insert(a,u,p),s.setSizes(a)}},c.prototype._tabifyWidget=function(t,e,i){if(t!==e){var n=r.find(this._items,function(t){return t.widget===e});if(n){t.parent=null;var o=n.panel,s=o.tabBar.indexOf(e.tab)+(i?1:0);this._items.push({widget:t,panel:o}),o.stackedPanel.addWidget(t),o.tabBar.insertTab(s,t.tab)}}},c.prototype._ensureRoot=function(t){var e=this._root;e.orientation!==t&&(e.count<=1?e.orientation=t:(this._root=this._createSplitter(t),this._root.addWidget(e),this.layout.addWidget(this._root)))},c.prototype._createPanel=function(){var t=new _,e=t.tabBar;return e.tabWidth=this._tabWidth,e.tabOverlap=this._tabOverlap,e.minTabWidth=this._minTabWidth,e.currentChanged.connect(this._tb_currentChanged,this),e.tabCloseRequested.connect(this._tb_tabCloseRequested,this),e.tabDetachRequested.connect(this._tb_tabDetachRequested,this),t.stackedPanel.widgetRemoved.connect(this._sw_widgetRemoved,this),t},c.prototype._createSplitter=function(t){var e=new v(t);return e.handleSize=this._handleSize,e},c.prototype._removePanel=function(t){var e=t.parent;if(t.parent=null,setTimeout(function(){return t.dispose()},0),!(e.count>1))if(e!==this._root){var i=e.parent,n=i.sizes(),o=e.widgetAt(0),s=i.indexOf(e);if(e.parent=null,o instanceof _)i.insertWidget(s,o);else for(var a=o,h=a.sizes(),c=r.removeAt(n,s),u=0;0!==a.count;++u)i.insertWidget(s+u,a.widgetAt(0)),r.insert(n,s+u,c*h[u]);i.setSizes(n),e.dispose()}else if(1===e.count){var p=e.widgetAt(0);if(p instanceof v){var d=this.layout,l=p.sizes();this._root=p,e.parent=null,d.addWidget(p),p.setSizes(l),e.dispose()}}},c.prototype._abortDrag=function(){var t=this._dragData;if(t){if(this._dragData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("contextmenu",this,!0),t.cursorGrab.dispose(),t.lastHitPanel&&t.lastHitPanel.hideOverlay(),t.tempPanel){var e=t.tempPanel.tabBar;e.detachAt(e.currentIndex),e.currentTab=t.tempTab}var n=t.item,o=n.widget.tab,r=n.panel.tabBar;if(r.currentTab!==o){var s=o.node.style;i(o,!1),s.top="",s.left="",s.width="",r.insertTab(t.index,o)}}},c.prototype._tb_currentChanged=function(t,e){var i=r.find(this._items,function(t){return t.widget.tab===e.second});i&&i.panel.tabBar===t&&(i.panel.stackedPanel.currentWidget=i.widget)},c.prototype._tb_tabCloseRequested=function(t,e){var i=r.find(this._items,function(t){return t.widget.tab===e.second});i&&i.widget.close()},c.prototype._tb_tabDetachRequested=function(t,e){var n=e.tab,o=r.find(this._items,function(t){return t.widget.tab===n});if(o){if(!this._dragData){var s=t.previousTab;this._dragData={item:o,index:e.index,offsetX:0,offsetY:0,prevTab:s,lastHitPanel:null,cursorGrab:null,tempPanel:null,tempTab:null}}var h=this._dragData;h.offsetX=.4*this._tabWidth|0,h.offsetY=.6*n.node.offsetHeight|0,h.cursorGrab=a("default"),o.panel.tabBar===t?(t.currentIndex=-1,t.detachAt(e.index)):(t.detachAt(e.index),t.currentTab=h.tempTab),h.tempPanel=null,h.tempTab=null;var c=n.node.style;c.left=e.clientX-h.offsetX+"px",c.top=e.clientY-h.offsetY+"px",c.width=this._tabWidth+"px",c.zIndex="",i(n,!0),document.body.appendChild(n.node),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("contextmenu",this,!0)}},c.prototype._sw_widgetRemoved=function(t,e){if(!this._ignoreRemoved){var i=r.findIndex(this._items,function(t){return t.widget===e.second});if(-1!==i){this._abortDrag();var n=r.removeAt(this._items,i);n.panel.tabBar.removeTab(n.widget.tab),0===n.panel.stackedPanel.count&&this._removePanel(n.panel)}}},c}(e.Widget);e.DockArea=l;var f;!function(t){t[t.Top=0]="Top",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.Invalid=4]="Invalid"}(f||(f={}));var _=function(t){function i(){t.call(this),this._overlayTimer=0,this._overlayHidden=!0,this._overlayNode=null,this.addClass(u),this._tabBar=new e.TabBar,this._stackedPanel=new e.StackedPanel,this._overlayNode=this.createOverlay();var i=new e.BoxLayout(2,0);i.addWidget(this._tabBar),i.addWidget(this._stackedPanel),this.layout=i,this.setFlag(16),this.node.appendChild(this._overlayNode)}return __extends(i,t),Object.defineProperty(i.prototype,"tabBar",{get:function(){return this._tabBar},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stackedPanel",{get:function(){return this._stackedPanel},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._clearOverlayTimer(),this._tabBar=null,this._stackedPanel=null,this._overlayNode=null,t.prototype.dispose.call(this)},i.prototype.splitModeAt=function(t,e){var i=this.node.getBoundingClientRect(),n=(t-i.left)/i.width,o=(e-i.top)/i.height;if(0>n||n>1||0>o||o>1)return 4;var r,s=n>.5?1-n:n,a=o>.5?1-o:o;return r=a>s?.5>=n?1:2:.5>=o?0:3},i.prototype.showOverlay=function(t,e){this._clearOverlayTimer();var i=this.boxSizing,n=i.paddingTop,o=i.paddingLeft,r=i.paddingRight,s=i.paddingBottom;switch(this.splitModeAt(t,e)){case 1:r=this.width/2;break;case 2:o=this.width/2;break;case 0:s=this.height/2;break;case 3:n=this.height/2}var a=this._overlayNode.style;if(this._overlayHidden){this._overlayHidden=!1;var h=this.node.getBoundingClientRect();a.top=e-h.top+"px",a.left=t-h.left+"px",a.right=h.right-t+"px",a.bottom=h.bottom-e+"px",a.display="",this._overlayNode.offsetWidth}a.opacity="1",a.top=n+"px",a.left=o+"px",a.right=r+"px",a.bottom=s+"px"},i.prototype.hideOverlay=function(){var t=this;this._overlayHidden||(this._clearOverlayTimer(),this._overlayHidden=!0,this._overlayNode.style.opacity="0",this._overlayTimer=setTimeout(function(){t._overlayTimer=0,t._overlayNode.style.display="none"},150))},i.prototype.createOverlay=function(){var t=document.createElement("div");return t.className=p,t.style.display="none",t},i.prototype._clearOverlayTimer=function(){this._overlayTimer&&(clearTimeout(this._overlayTimer),this._overlayTimer=0)},i}(e.Widget),v=function(t){function e(e){t.call(this,e),this.addClass(c)}return __extends(e,t),e}(e.SplitPanel)}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.utility.Size,n=t.virtualdom.render,o="p-ElementHost",r=function(t){function e(e,n,r){void 0===e&&(e=null),void 0===n&&(n=0),void 0===r&&(r=0),t.call(this),this.addClass(o),this.setFlag(16),this._size=new i(Math.max(0,n),Math.max(0,r)),this._element=e}return __extends(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},set:function(t){t=t||null,t!==this._element&&(this._element=t,n(t,this.node))},enumerable:!0,configurable:!0}),e.prototype.sizeHint=function(){return this._size},e.prototype.setSizeHint=function(t,e){t=Math.max(0,t),e=Math.max(0,e),(t!==this._size.width||e!==this._size.height)&&(this._size=new i(t,e),this.updateGeometry())},e.prototype.onAfterAttach=function(t){n(this._element,this.node)},e.prototype.onAfterDetach=function(t){n(null,this.node)},e}(e.Widget);e.ElementHost=r}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.core.Signal,n=function(){function t(t){this.changed=new i,this.toggled=new i,this.triggered=new i,this._text="",this._mnemonic="",this._shortcut="",this._className="",this._enabled=!0,this._visible=!0,this._type="normal",this._checked=!1,this._submenu=null,t&&this._initFrom(t)}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){if(t!==this._type){if("normal"!==t&&"check"!==t&&"separator"!==t)throw new Error("invalid menu item type: "+t);this._type=t,this._checked=!1,this.changed.emit(this,void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){t!==this._text&&(this._text=t,this.changed.emit(this,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(t){t===this._mnemonic||t.length>1||(this._mnemonic=t,this.changed.emit(this,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shortcut",{get:function(){return this._shortcut},set:function(t){t!==this._shortcut&&(this._shortcut=t,this.changed.emit(this,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t!==this._enabled&&(this._enabled=t,this.changed.emit(this,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,this.changed.emit(this,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(t){"check"===this._type&&t!==this._checked&&(this._checked=t,this.changed.emit(this,void 0),this.toggled.emit(this,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"submenu",{get:function(){return this._submenu},set:function(t){t!==this._submenu&&(this._submenu=t,this.changed.emit(this,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(t){t!==this._className&&(this._className=t,this.changed.emit(this,void 0))},enumerable:!0,configurable:!0}),t.prototype.trigger=function(){"check"===this._type&&(this.checked=!this.checked),this.triggered.emit(this,void 0)},t.prototype._initFrom=function(t){void 0!==t.type&&(this.type=t.type),void 0!==t.text&&(this._text=t.text),void 0!==t.mnemonic&&(this.mnemonic=t.mnemonic),void 0!==t.shortcut&&(this._shortcut=t.shortcut),void 0!==t.enabled&&(this._enabled=t.enabled),void 0!==t.visible&&(this._visible=t.visible),void 0!==t.checked&&(this.checked=t.checked),void 0!==t.submenu&&(this._submenu=t.submenu),void 0!==t.className&&(this._className=t.className),void 0!==t.onTriggered&&this.triggered.connect(t.onTriggered),void 0!==t.onToggled&&this.toggled.connect(t.onToggled)},t}();e.MenuItem=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t){return t&&"separator"!==t.type&&t.visible}function n(t){return i(t)}function o(t){return n(t)&&t.enabled}function r(t,e,i){var n=t.node,o=n.style;o.top="",o.left="",o.width="",o.height="",o.visibility="hidden",document.body.appendChild(t.node);var r=n.getBoundingClientRect(),s=Math.ceil(r.width),a=Math.ceil(r.height),h=e.height-i;return a>h&&(a=h,s+=17),new p(s,a)}function s(t,e,i,n,o){var r=t.node.style;r.top=Math.max(0,i)+"px",r.left=Math.max(0,e)+"px",r.width=n+"px",r.height=o+"px",r.visibility=""}function a(t,e,i,n,o){var a=d(),h=r(t,a,o?i:0);!n&&e+h.width>a.right&&(e=a.right-h.width),!o&&i+h.height>a.bottom&&(i>a.bottom?i=a.bottom-h.height:i-=h.height),s(t,e,i,h.width,h.height)}function h(t,e){var i=d(),n=r(t,i,0),o=l(t.node),a=e.getBoundingClientRect(),h=a.right-A,c=a.top-o.borderTop-o.paddingTop;h+n.width>i.right&&(h=a.left+A-n.width),c+n.height>i.bottom&&(c=a.bottom+o.borderBottom+o.paddingBottom-n.height),s(t,h,c,n.width,n.height)}var c=t.collections.algorithm,u=t.core.Signal,p=t.utility.Size,d=t.utility.clientViewportRect,l=t.utility.createBoxSizing,f=t.utility.hitTest,_="p-Menu",v="p-Menu-content",m="p-Menu-item",y="p-Menu-item-icon",g="p-Menu-item-text",b="p-Menu-item-shortcut",w="p-Menu-item-submenu-icon",x="p-mod-check-type",z="p-mod-separator-type",P="p-mod-active",S="p-mod-disabled",M="p-mod-hidden",O="p-mod-force-hidden",I="p-mod-checked",k="p-mod-has-submenu",T=300,C=300,A=3,L=function(){function t(t){var e=this;this.closed=new u,this._parentMenu=null,this._childMenu=null,this._childItem=null,this._items=[],this._nodes=[],this._activeIndex=-1,this._openTimer=0,this._closeTimer=0,this._node=this.createNode(),this._node.classList.add(_),t&&t.forEach(function(t){return e.addItem(t)})}return t.rootMenu=function(t){for(;t._parentMenu;)t=t._parentMenu;return t},t.leafMenu=function(t){for(;t._childMenu;)t=t._childMenu;return t},Object.defineProperty(t.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){var e=n(this._items[t]);this._setActiveIndex(e?t:-1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]},set:function(t){this.activeIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),t.prototype.itemAt=function(t){return this._items[t]},t.prototype.indexOf=function(t){return c.indexOf(this._items,t)},t.prototype.addItem=function(t){return this.insertItem(this.count,t)},t.prototype.insertItem=function(t,e){this.removeItem(e),-1!==this._activeIndex&&this._reset();var i=this.createItemNode(e);return t=c.insert(this._items,t,e),c.insert(this._nodes,t,i),e.changed.connect(this._mi_changed,this),i.addEventListener("mouseenter",this),this.insertItemNode(t,i),this._collapseSeparators(),t},t.prototype.removeAt=function(t){-1!==this._activeIndex&&this._reset();var e=c.removeAt(this._items,t),i=c.removeAt(this._nodes,t);return e&&e.changed.disconnect(this._mi_changed,this),i&&(i.removeEventListener("mouseenter",this),this.removeItemNode(i)),this._collapseSeparators(),e},t.prototype.removeItem=function(t){var e=this.indexOf(t);return-1!==e&&this.removeAt(e),e},t.prototype.clearItems=function(){
for(;this.count;)this.removeAt(this.count-1)},t.prototype.activateNextItem=function(){var t=this._activeIndex+1,e=c.findIndex(this._items,n,t,!0);this._setActiveIndex(e)},t.prototype.activatePreviousItem=function(){var t=Math.max(-1,this._activeIndex-1),e=c.findLastIndex(this._items,n,t,!0);this._setActiveIndex(e)},t.prototype.activateMnemonicItem=function(t){t=t.toUpperCase();var e=c.findIndex(this._items,function(e){return o(e)&&e.mnemonic.toUpperCase()===t},this._activeIndex+1,!0);this._setActiveIndex(e)},t.prototype.openActiveItem=function(){var t=this._activeIndex,e=this._items[t];return e&&e.submenu&&e.enabled?(this._openChildMenu(e,this._nodes[t],!1),this._childMenu.activateNextItem(),!0):!1},t.prototype.triggerActiveItem=function(){var e=this._activeIndex,i=this._items[e];return i&&i.enabled?(i.submenu?(this._openChildMenu(i,this._nodes[e],!1),this._childMenu.activateNextItem()):(t.rootMenu(this).close(),i.trigger()),!0):!1},t.prototype.popup=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var o=this._node;o.parentNode||(o.addEventListener("mouseup",this),o.addEventListener("mouseleave",this),o.addEventListener("contextmenu",this),document.addEventListener("keydown",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("mousedown",this,!0),a(this,t,e,i,n))},t.prototype.open=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var o=this._node;o.parentNode||(o.addEventListener("mouseup",this),o.addEventListener("mouseleave",this),o.addEventListener("contextmenu",this),a(this,t,e,i,n))},t.prototype.close=function(){var t=this._node,e=t.parentNode;e&&e.removeChild(t),t.removeEventListener("mouseup",this),t.removeEventListener("mouseleave",this),t.removeEventListener("contextmenu",this),document.removeEventListener("keydown",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("mousedown",this,!0),this._reset(),this._removeFromParent(),this.closed.emit(this,void 0)},t.prototype.createNode=function(){var t=document.createElement("div"),e=document.createElement("content");return e.className=v,t.appendChild(e),t},t.prototype.createItemNode=function(t){var e=document.createElement("li"),i=document.createElement("span"),n=document.createElement("span"),o=document.createElement("span"),r=document.createElement("span");return i.className=y,n.className=g,o.className=b,r.className=w,e.appendChild(i),e.appendChild(n),e.appendChild(o),e.appendChild(r),this.initItemNode(t,e),e},t.prototype.initItemNode=function(t,e){var i=[m];t.className&&i.push(t.className),"check"===t.type?i.push(x):"separator"===t.type&&i.push(z),t.checked&&i.push(I),t.enabled||i.push(S),t.visible||i.push(M),t.submenu&&i.push(k),e.className=i.join(" "),e.children[1].textContent=t.text,e.children[2].textContent=t.shortcut},t.prototype.insertItemNode=function(t,e){var i=this.node.firstChild;i.insertBefore(e,i.childNodes[t])},t.prototype.removeItemNode=function(t){var e=this.node.firstChild;e.removeChild(t)},t.prototype.handleEvent=function(t){switch(t.type){case"mouseenter":this._evtMouseEnter(t);break;case"mouseleave":this._evtMouseLeave(t);break;case"mousedown":this._evtMouseDown(t);break;case"mouseup":this._evtMouseUp(t);break;case"contextmenu":this._evtContextMenu(t);break;case"keydown":this._evtKeyDown(t);break;case"keypress":this._evtKeyPress(t)}},t.prototype._evtMouseEnter=function(t){this._syncAncestors(),this._closeChildMenu(),this._cancelPendingOpen();var e=t.currentTarget,i=c.indexOf(this._nodes,e);if(-1===i)return void this._setActiveIndex(-1);var n=this._items[i];return"separator"===n.type?void this._setActiveIndex(-1):(this._setActiveIndex(i),void(n.submenu&&n.enabled&&(n===this._childItem?this._cancelPendingClose():this._openChildMenu(n,e,!0))))},t.prototype._evtMouseLeave=function(t){this._cancelPendingOpen();var e=this._childMenu;e&&f(e.node,t.clientX,t.clientY)||(this._setActiveIndex(-1),this._closeChildMenu())},t.prototype._evtMouseUp=function(t){if(t.preventDefault(),t.stopPropagation(),0===t.button){var e=t.clientX,i=t.clientY,n=c.findIndex(this._nodes,function(t){return f(t,e,i)});n===this._activeIndex&&this.triggerActiveItem()}},t.prototype._evtContextMenu=function(t){t.preventDefault(),t.stopPropagation()},t.prototype._evtMouseDown=function(t){for(var e=this,i=!1,n=t.clientX,o=t.clientY;!i&&e;)i=f(e.node,n,o),e=e._childMenu;i||this.close()},t.prototype._evtKeyDown=function(e){e.stopPropagation();var i=t.leafMenu(this);switch(e.keyCode){case 13:e.preventDefault(),i.triggerActiveItem();break;case 27:e.preventDefault(),i.close();break;case 37:e.preventDefault(),i!==this&&i.close();break;case 38:e.preventDefault(),i.activatePreviousItem();break;case 39:e.preventDefault(),i.openActiveItem();break;case 40:e.preventDefault(),i.activateNextItem()}},t.prototype._evtKeyPress=function(e){e.preventDefault(),e.stopPropagation();var i=String.fromCharCode(e.charCode);t.leafMenu(this).activateMnemonicItem(i)},t.prototype._setActiveIndex=function(t){var e=this._nodes[this._activeIndex],i=this._nodes[t];this._activeIndex=t,e!==i&&(e&&e.classList.remove(P),i&&i.classList.add(P))},t.prototype._syncAncestors=function(){for(var t=this._parentMenu;t;)t._cancelPendingOpen(),t._cancelPendingClose(),t._syncChildItem(),t=t._parentMenu},t.prototype._syncChildItem=function(){var t=this.indexOf(this._childItem);-1!==t&&this._setActiveIndex(t)},t.prototype._openChildMenu=function(t,e,i){var n=this;if(t!==this._childItem)if(this._cancelPendingOpen(),i)this._openTimer=setTimeout(function(){var i=t.submenu;n._openTimer=0,n._childItem=t,n._childMenu=i,i._parentMenu=n,i._openAsSubmenu(e)},T);else{var o=t.submenu;this._childItem=t,this._childMenu=o,o._parentMenu=this,o._openAsSubmenu(e)}},t.prototype._openAsSubmenu=function(t){var e=this._node;e.addEventListener("mouseup",this),e.addEventListener("mouseleave",this),e.addEventListener("contextmenu",this),h(this,t)},t.prototype._closeChildMenu=function(){var t=this;!this._closeTimer&&this._childMenu&&(this._closeTimer=setTimeout(function(){t._closeTimer=0,t._childMenu&&(t._childMenu.close(),t._childMenu=null,t._childItem=null)},C))},t.prototype._reset=function(){this._cancelPendingOpen(),this._cancelPendingClose(),this._setActiveIndex(-1),this._childMenu&&(this._childMenu.close(),this._childMenu=null,this._childItem=null)},t.prototype._removeFromParent=function(){var t=this._parentMenu;t&&(this._parentMenu=null,t._cancelPendingOpen(),t._cancelPendingClose(),t._childMenu=null,t._childItem=null)},t.prototype._cancelPendingOpen=function(){this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=0)},t.prototype._cancelPendingClose=function(){this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=0)},t.prototype._collapseSeparators=function(){for(var t=this._items,e=this._nodes,n=!0,o=c.findLastIndex(t,i),r=0,s=t.length;s>r;++r){var a=t[r];"separator"===a.type?n||r>o?e[r].classList.add(O):a.visible&&(e[r].classList.remove(O),n=!0):a.visible&&(n=!1)}},t.prototype._mi_changed=function(t){var e=this.indexOf(t);-1!==e&&(e===this._activeIndex&&this._reset(),this.initItemNode(t,this._nodes[e]),this._collapseSeparators())},t}();e.Menu=L}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t){return t&&"separator"!==t.type&&t.visible}function n(t){return i(t)&&t.enabled}function o(t,e,i){for(;t;){if(a(t.node,e,i))return!0;t=t.childMenu}return!1}var r=t.collections.algorithm,s=t.utility.Size,a=t.utility.hitTest,h="p-MenuBar",c="p-MenuBar-content",u="p-MenuBar-menu",p="p-MenuBar-item",d="p-MenuBar-item-icon",l="p-MenuBar-item-text",f="p-mod-separator-type",_="p-mod-active",v="p-mod-selected",m="p-mod-disabled",y="p-mod-hidden",g="p-mod-force-hidden",b=function(t){function b(e){var i=this;t.call(this),this._childMenu=null,this._items=[],this._nodes=[],this._state=0,this._activeIndex=-1,this.addClass(h),this.verticalSizePolicy=0,e&&e.forEach(function(t){return i.addItem(t)})}return __extends(b,t),b.prototype.dispose=function(){this._closeChildMenu(),this._items=null,this._nodes=null,t.prototype.dispose.call(this)},Object.defineProperty(b.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){var e=n(this._items[t]);this._setActiveIndex(e?t:-1)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]},set:function(t){this.activeIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),b.prototype.itemAt=function(t){return this._items[t]},b.prototype.indexOf=function(t){return r.indexOf(this._items,t)},b.prototype.addItem=function(t){return this.insertItem(this.count,t)},b.prototype.insertItem=function(t,e){this.removeItem(e),-1!==this._activeIndex&&(this._setState(0),this._setActiveIndex(-1));var i=this.createItemNode(e);return t=r.insert(this._items,t,e),r.insert(this._nodes,t,i),e.changed.connect(this._mi_changed,this),this.insertItemNode(t,i),this._collapseSeparators(),t},b.prototype.removeAt=function(t){-1!==this._activeIndex&&(this._setState(0),this._setActiveIndex(-1));var e=r.removeAt(this._items,t),i=r.removeAt(this._nodes,t);return e&&e.changed.disconnect(this._mi_changed,this),i&&this.removeItemNode(i),this._collapseSeparators(),e},b.prototype.removeItem=function(t){var e=this.indexOf(t);return-1!==e&&this.removeAt(e),e},b.prototype.clearItems=function(){for(;this.count;)this.removeAt(this.count-1)},b.prototype.activateNextItem=function(){var t=this._activeIndex+1,e=r.findIndex(this._items,n,t,!0);this._setActiveIndex(e);var i=this._childMenu;i&&i.activateNextItem()},b.prototype.activatePreviousItem=function(){var t=Math.max(-1,this._activeIndex-1),e=r.findLastIndex(this._items,n,t,!0);this._setActiveIndex(e);var i=this._childMenu;i&&i.activateNextItem()},b.prototype.activateMnemonicItem=function(t){t=t.toUpperCase();var e=r.findIndex(this._items,function(e){return n(e)&&e.mnemonic.toUpperCase()===t},this._activeIndex+1,!0);this._setActiveIndex(e);var i=this._childMenu;i&&i.activateNextItem()},b.prototype.openActiveItem=function(){var t=this._activeIndex,e=this._items[t];if(!e)return!1;this._setState(1),this._setActiveIndex(t);var i=this._childMenu;return i&&i.activateNextItem(),!0},b.prototype.sizeHint=function(){return this.minSizeHint()},b.prototype.minSizeHint=function(){return new s(0,this.boxSizing.minHeight)},b.prototype.createNode=function(){var t=document.createElement("div"),e=document.createElement("ul");return e.className=c,t.appendChild(e),t},b.prototype.createItemNode=function(t){var e=document.createElement("li"),i=document.createElement("span"),n=document.createElement("span");return i.className=d,n.className=l,e.appendChild(i),e.appendChild(n),this.initItemNode(t,e),e},b.prototype.initItemNode=function(t,e){var i=[p];t.className&&i.push(t.className),"separator"===t.type&&i.push(f),t.enabled||i.push(m),t.visible||i.push(y),e.className=i.join(" "),e.children[1].textContent=t.text},b.prototype.insertItemNode=function(t,e){var i=this.node.firstChild;i.insertBefore(e,i.childNodes[t])},b.prototype.removeItemNode=function(t){var e=this.node.firstChild;e.removeChild(t)},b.prototype.onAfterAttach=function(t){this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this)},b.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this)},b.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseleave":this._evtMouseLeave(t);break;case"keydown":this._evtKeyDown(t);break;case"keypress":this._evtKeyPress(t)}},b.prototype._evtMouseDown=function(t){var e=t.clientX,i=t.clientY;if(0===this._state){if(0!==t.button)return;var s=r.findIndex(this._nodes,function(t){return a(t,e,i)});if(!n(this._items[s]))return;this._setState(1),this._setActiveIndex(s)}else{if(o(this._childMenu,e,i))return;this._setState(0);var s=r.findIndex(this._nodes,function(t){return a(t,e,i)}),h=n(this._items[s]);this._setActiveIndex(h?s:-1)}},b.prototype._evtMouseMove=function(t){var e=t.clientX,i=t.clientY,o=r.findIndex(this._nodes,function(t){return a(t,e,i)});if(o!==this._activeIndex&&(-1!==o||1!==this._state)){var s=n(this._items[o]);this._setActiveIndex(s?o:-1)}},b.prototype._evtMouseLeave=function(t){0===this._state&&this._setActiveIndex(-1)},b.prototype._evtKeyDown=function(t){t.stopPropagation();var i=this._childMenu,n=i&&e.Menu.leafMenu(i);switch(t.keyCode){case 13:t.preventDefault(),n&&n.triggerActiveItem();break;case 27:t.preventDefault(),n&&n!==i?n.close():(this._setState(0),this._setActiveIndex(-1));break;case 37:t.preventDefault(),n&&n!==i?n.close():this.activatePreviousItem();break;case 38:t.preventDefault(),n&&n.activatePreviousItem();break;case 39:t.preventDefault(),n&&n.openActiveItem()||this.activateNextItem();break;case 40:t.preventDefault(),n&&n.activateNextItem()}},b.prototype._evtKeyPress=function(t){t.preventDefault(),t.stopPropagation();var i=String.fromCharCode(t.charCode);this._childMenu?e.Menu.leafMenu(this._childMenu).activateMnemonicItem(i):this.activateMnemonicItem(i)},b.prototype._setActiveIndex=function(t){var e=this._nodes[this._activeIndex],i=this._nodes[t];if(this._activeIndex=t,e&&(e.classList.remove(_),e.classList.remove(v)),i&&i.classList.add(_),i&&0!==this._state&&i.classList.add(v),this._closeChildMenu(),i&&1===this._state){var n=this._items[t];n.submenu&&this._openChildMenu(n.submenu,i)}},b.prototype._openChildMenu=function(t,e){var i=e.getBoundingClientRect();this._childMenu=t,t.node.classList.add(u),t.closed.connect(this._mn_closed,this),t.open(i.left,i.bottom,!1,!0)},b.prototype._closeChildMenu=function(){this._childMenu&&(this._childMenu.node.classList.remove(u),this._childMenu.closed.disconnect(this._mn_closed,this),this._childMenu.close(),this._childMenu=null)},b.prototype._setState=function(t){t!==this._state&&(0===t?this._useInactiveListeners():this._useActiveListeners(),this._state=t)},b.prototype._useInactiveListeners=function(){var t=this;setTimeout(function(){t.node.addEventListener("mousedown",t),document.removeEventListener("mousedown",t,!0),document.removeEventListener("keydown",t,!0),document.removeEventListener("keypress",t,!0)},0)},b.prototype._useActiveListeners=function(){var t=this;setTimeout(function(){t.node.removeEventListener("mousedown",t),document.addEventListener("mousedown",t,!0),document.addEventListener("keydown",t,!0),document.addEventListener("keypress",t,!0)},0)},b.prototype._collapseSeparators=function(){for(var t=this._items,e=this._nodes,n=!0,o=r.findLastIndex(t,i),s=0,a=t.length;a>s;++s){var h=t[s];"separator"===h.type?n||s>o?e[s].classList.add(g):h.visible&&(e[s].classList.remove(g),n=!0):h.visible&&(n=!1)}},b.prototype._mn_closed=function(t){t.closed.disconnect(this._mn_closed,this),t.node.classList.remove(u),this._childMenu=null,this._setState(0),this._setActiveIndex(-1)},b.prototype._mi_changed=function(t){var e=this.indexOf(t);-1!==e&&(e===this._activeIndex&&(this._setState(0),this._setActiveIndex(-1)),this.initItemNode(t,this._nodes[e]),this._collapseSeparators())},b}(e.Widget);e.MenuBar=b;var w;!function(t){t[t.Inactive=0]="Inactive",t[t.Active=1]="Active"}(w||(w={}))}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e="p-Tab",i="p-Tab-text",n="p-Tab-icon",o="p-Tab-close-icon",r="p-mod-selected",s="p-mod-closable",a=function(){function t(t){this._node=this.createNode(),t&&(this.text=t)}return Object.defineProperty(t.prototype,"text",{get:function(){return this._node.children[1].textContent},set:function(t){this._node.children[1].textContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._node.classList.contains(r)},set:function(t){t?this._node.classList.add(r):this._node.classList.remove(r)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this._node.classList.contains(s)},set:function(t){t?this._node.classList.add(s):this._node.classList.remove(s)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeIconNode",{get:function(){return this._node.lastChild},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var t=document.createElement("li"),r=document.createElement("span"),s=document.createElement("span"),a=document.createElement("span");return t.className=e,r.className=n,s.className=i,a.className=o,t.appendChild(r),t.appendChild(s),t.appendChild(a),t},t}();t.Tab=a}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t,e,i,n){return i<t.left-e?!1:i>=t.right+e?!1:n<t.top-e?!1:n>=t.bottom+e?!1:!0}var n=t.collections.algorithm,o=t.core.Signal,r=t.utility.Pair,s=t.utility.Size,a=t.utility.hitTest,h=t.utility.overrideCursor,c="p-TabBar",u="p-TabBar-header",p="p-TabBar-content",d="p-TabBar-footer",l="p-mod-transition",f="p-mod-inserting",_="p-mod-removing",v=.6,m=5,y=20,g=150,b=7,w=function(t){function e(e){t.call(this),this.tabMoved=new o,this.currentChanged=new o,this.tabCloseRequested=new o,this.tabDetachRequested=new o,this._tabWidth=175,this._tabOverlap=0,this._minTabWidth=45,this._tabs=[],this._tabsMovable=!0,this._currentTab=null,this._previousTab=null,this._dragData=null,this.addClass(c),this.verticalSizePolicy=0,e&&this._initFrom(e)}return __extends(e,t),e.prototype.dispose=function(){this.tabMoved.disconnect(),this.currentChanged.disconnect(),this.tabCloseRequested.disconnect(),this.tabDetachRequested.disconnect(),this._releaseMouse(),this._previousTab=null,this._currentTab=null,this._tabs=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this.indexOf(this.currentTab)},set:function(t){var e=this._currentTab,i=this.tabAt(t)||null;e!==i&&(e&&(e.selected=!1),i&&(i.selected=!0),this._currentTab=i,this._previousTab=e,this._updateTabZOrder(),this.currentChanged.emit(this,new r(i?t:-1,i)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTab",{get:function(){return this._currentTab},set:function(t){this.currentIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousTab",{get:function(){return this._previousTab},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(t){t!==this._tabsMovable&&(this._tabsMovable=t,t||this._releaseMouse())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabWidth",{get:function(){return this._tabWidth},set:function(t){t=Math.max(0,t),t!==this._tabWidth&&(this._tabWidth=t,this.isAttached&&(this._updateTabLayout(),this.updateGeometry()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minTabWidth",{get:function(){return this._minTabWidth},set:function(t){t=Math.max(0,t),t!==this._minTabWidth&&(this._minTabWidth=t,this.isAttached&&(this._updateTabLayout(),this.updateGeometry()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabOverlap",{get:function(){return this._tabOverlap},set:function(t){t!==this._tabOverlap&&(this._tabOverlap=t,this.isAttached&&(this._updateTabLayout(),this.updateGeometry()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._tabs.length},enumerable:!0,configurable:!0}),e.prototype.tabAt=function(t){return this._tabs[t]},e.prototype.indexOf=function(t){return n.indexOf(this._tabs,t)},e.prototype.addTab=function(t){return this.insertTab(this.count,t)},e.prototype.insertTab=function(t,e){var i=this.indexOf(e);return t=-1!==i?this.moveTab(i,t):this._insertTab(t,e,!0)},e.prototype.moveTab=function(t,e){return this._moveTab(t,e)},e.prototype.removeAt=function(t){return this._removeTab(t,!0)},e.prototype.removeTab=function(t){var e=this.indexOf(t);return-1!==e&&this._removeTab(e,!0),e},e.prototype.clearTabs=function(){for(;this.count;)this._removeTab(this.count-1,!1)},e.prototype.attachTab=function(t,e){if(-1===this.indexOf(t)){var i=this.contentNode,n=i.getBoundingClientRect(),o=e-n.left,r=o/(this._tabLayoutWidth()-this._tabOverlap);if(r=Math.max(0,Math.min(Math.round(r),this.count)),this._insertTab(r,t,!1),this.currentIndex=r,document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),this._tabsMovable){var s=this._tabLayoutWidth(),a=.4*s|0,c=n.top+.5*n.height|0,u=h("default");this._dragData={node:t.node,pressX:e,pressY:c,offsetX:a,contentRect:n,cursorGrab:u,dragActive:!0,detachRequested:!1};var p=o-a,d=n.width-s,f=Math.max(0,Math.min(p,d)),_=t.node.style;i.classList.add(l),_.transition="none",this._updateTabLayout(),_.left=f+"px"}}},e.prototype.detachAt=function(t){return this._removeTab(t,!1)},e.prototype.sizeHint=function(){var t=0,e=this.count;return e>0&&(t=this._tabWidth*e-this._tabOverlap*(e-1)),new s(t,this.boxSizing.minHeight)},e.prototype.minSizeHint=function(){var t=0,e=this.count;return e>0&&(t=this._minTabWidth+b*(e-1)),new s(t,this.boxSizing.minHeight)},Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.firstChild.nextSibling},enumerable:!0,configurable:!0}),e.prototype.createNode=function(){var t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("ul"),n=document.createElement("div");return e.className=u,i.className=p,n.className=d,t.appendChild(e),t.appendChild(i),t.appendChild(n),t},e.prototype.onAfterAttach=function(t){var e=this.node;e.addEventListener("mousedown",this),e.addEventListener("click",this)},e.prototype.onAfterDetach=function(t){var e=this.node;e.removeEventListener("mousedown",this),e.removeEventListener("click",this)},e.prototype.onResize=function(t){this._updateTabLayout()},e.prototype.handleEvent=function(t){switch(t.type){case"click":this._evtClick(t);break;case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t)}},e.prototype._evtClick=function(t){if(0===t.button){var e=this._hitTest(t.clientX,t.clientY);if(!(0>e)){t.preventDefault(),t.stopPropagation();var i=this._tabs[e],n=i.closeIconNode;n&&n===t.target&&i.closable&&this.tabCloseRequested.emit(this,new r(e,i))}}},e.prototype._evtMouseDown=function(t){if(0===t.button){var e=t.clientX,i=t.clientY,n=this._hitTest(e,i);if(!(0>n)){t.preventDefault(),t.stopPropagation();var o=this._tabs[n],r=o.closeIconNode;if(!r||r!==t.target){if(this._tabsMovable){var s=e-o.node.getBoundingClientRect().left;this._dragData={node:o.node,pressX:e,pressY:i,offsetX:s,contentRect:null,cursorGrab:null,dragActive:!1,detachRequested:!1}}this.currentIndex=n,document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0)}}}},e.prototype._evtMouseMove=function(t){if(t.preventDefault(),t.stopPropagation(),this._tabsMovable&&this._dragData){var e=t.clientX,n=t.clientY,o=this._dragData;if(!o.dragActive){var r=Math.abs(e-o.pressX),s=Math.abs(n-o.pressY);if(m>r&&m>s)return;var a=this.contentNode;o.contentRect=a.getBoundingClientRect(),o.cursorGrab=h("default"),o.dragActive=!0,a.classList.add(l),o.node.style.transition="none"}if(o.detachRequested||i(o.contentRect,y,e,n)||(o.detachRequested=!0,this.tabDetachRequested.emit(this,{tab:this.currentTab,index:this.currentIndex,clientX:e,clientY:n}),this._dragData)){var c=this.currentIndex,u=this._tabLayoutWidth(),p=c*(u-this._tabOverlap),d=p-u*v,f=p+u*v,_=e-o.contentRect.left-o.offsetX,g=Math.max(0,Math.min(_,o.contentRect.width-u));d>g?this.moveTab(c,c-1):g>f&&this.moveTab(c,c+1),o.node.style.left=g+"px"}}},e.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this._releaseMouse())},e.prototype._releaseMouse=function(){var t=this,e=this._dragData;e&&(this._dragData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),e.dragActive&&(e.cursorGrab.dispose(),e.node.style.transition="",this._withTransition(function(){t._updateTabLayout()})))},e.prototype._insertTab=function(t,e,i){var o=this;return t=n.insert(this._tabs,t,e),e.selected=!1,this.contentNode.appendChild(e.node),this._currentTab?this._updateTabZOrder():this.currentTab=e,this.isAttached?(i?this._withTransition(function(){e.node.classList.add(f),o._updateTabLayout()},function(){e.node.classList.remove(f)}):this._withTransition(function(){o._updateTabLayout()}),this.updateGeometry(),t):t},e.prototype._moveTab=function(t,e){var i=this;return e=n.move(this._tabs,t,e),-1===e?-1:(this._updateTabZOrder(),this.tabMoved.emit(this,new r(t,e)),this.isAttached?(this._withTransition(function(){i._updateTabLayout()}),e):e)},e.prototype._removeTab=function(t,e){var i=this,o=this._tabs,s=n.removeAt(o,t);if(!s)return void 0;if(this._releaseMouse(),s.selected=!1,s.node.style.zIndex="0",s===this._currentTab){var a=this._previousTab||o[t]||o[t-1];this._currentTab=null,this._previousTab=null,a?this.currentTab=a:this.currentChanged.emit(this,new r(-1,void 0))}else s===this._previousTab?(this._previousTab=null,this._updateTabZOrder()):this._updateTabZOrder();return this.isAttached?(e?this._withTransition(function(){s.node.classList.add(_),i._updateTabLayout()},function(){s.node.classList.remove(_),i._removeContentChild(s.node)}):(this._removeContentChild(s.node),this._withTransition(function(){i._updateTabLayout()})),this.updateGeometry(),s):(this._removeContentChild(s.node),s)},e.prototype._removeContentChild=function(t){var e=this.contentNode;e===t.parentNode&&e.removeChild(t)},e.prototype._hitTest=function(t,e){for(var i=this._tabs,n=0,o=i.length;o>n;++n)if(a(i[n].node,t,e))return n;return-1},e.prototype._tabLayoutWidth=function(){var t=this.count;if(0===t)return 0;var e=this._tabOverlap*(t-1),i=this._tabWidth*t-e;return this.width>=i?this._tabWidth:Math.max(this._minTabWidth,(this.width+e)/t)},e.prototype._updateTabZOrder=function(){for(var t=this._tabs,e=t.length-1,i=this._currentTab,n=0,o=t.length;o>n;++n){var r=t[n];r.node.style.zIndex=r===i?o+"":e--+""}},e.prototype._updateTabLayout=function(){var t=null;this._dragData&&this._dragData.dragActive&&(t=this._dragData.node);for(var e=0,i=this._tabs,n=this.width,o=this._tabOverlap,r=this._tabLayoutWidth(),s=0,a=i.length;a>s;++s){var h=i[s].node,c=h.style;if(h!==t){var u=r+b*(a-s-1);e+u>n&&(e=Math.max(0,n-u)),c.left=e+"px"}c.width=r+"px",e+=r-o}},e.prototype._withTransition=function(t,e){var i=this,n=this.contentNode;n.classList.add(l),t&&t(),setTimeout(function(){i._dragData&&i._dragData.dragActive||n.classList.remove(l),e&&e()},g)},e.prototype._initFrom=function(t){void 0!==t.tabsMovable&&(this.tabsMovable=t.tabsMovable),void 0!==t.tabWidth&&(this.tabWidth=t.tabWidth),void 0!==t.minTabWidth&&(this.minTabWidth=t.minTabWidth),void 0!==t.tabOverlap&&(this.tabOverlap=t.tabOverlap)},e}(e.Widget);e.TabBar=w}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Signal,n=t.utility.Pair,o="p-TabPanel",r=function(t){function r(){t.call(this),this.currentChanged=new i,this.addClass(o),this.layout=new e.BoxLayout(2,0),this.setFlag(16);var n=this._tabBar=new e.TabBar;n.tabMoved.connect(this._tb_tabMoved,this),n.currentChanged.connect(this._tb_currentChanged,this),n.tabCloseRequested.connect(this._tb_tabCloseRequested,this);var r=this._stackedPanel=new e.StackedPanel;r.widgetRemoved.connect(this._sw_widgetRemoved,this),this.layout.addWidget(n),this.layout.addWidget(r)}return __extends(r,t),r.prototype.dispose=function(){this._tabBar=null,this._stackedPanel=null,this.currentChanged.disconnect(),t.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"currentIndex",{get:function(){return this._stackedPanel.currentIndex},set:function(t){this._tabBar.currentIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentWidget",{get:function(){return this._stackedPanel.currentWidget},set:function(t){this._tabBar.currentIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tabsMovable",{get:function(){return this._tabBar.tabsMovable},set:function(t){this._tabBar.tabsMovable=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tabBar",{get:function(){return this._tabBar},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"count",{get:function(){return this._stackedPanel.count},enumerable:!0,configurable:!0}),r.prototype.indexOf=function(t){return this._stackedPanel.indexOf(t)},r.prototype.widgetAt=function(t){return this._stackedPanel.widgetAt(t)},r.prototype.addWidget=function(t,e){return void 0===e&&(e=0),this.insertWidget(this.count,t,e)},r.prototype.insertWidget=function(t,e,i){return void 0===i&&(i=0),t=this._stackedPanel.insertWidget(t,e,i),this._tabBar.insertTab(t,e.tab)},r.prototype.moveWidget=function(t,e){return this._tabBar.moveTab(t,e)},r.prototype._tb_tabMoved=function(t,e){this._stackedPanel.moveWidget(e.first,e.second)},r.prototype._tb_currentChanged=function(t,e){this._stackedPanel.currentIndex=e.first;var i=this._stackedPanel.currentWidget;this.currentChanged.emit(this,new n(e.first,i))},r.prototype._tb_tabCloseRequested=function(t,e){this._stackedPanel.widgetAt(e.first).close()},r.prototype._sw_widgetRemoved=function(t,e){this._tabBar.removeAt(e.first)},r}(e.Widget);e.TabPanel=r}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.di.createToken;e.IPluginList=i("phosphor.shell.IPluginList")}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.di.createToken;e.IShellView=i("phosphor.shell.IShellView")}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t){s(t,c),o(t)}function n(t){a(t,c)}function o(t){t.setVisible(r(t))}function r(t){for(var e=0,i=t.childCount;i>e;++e)if(!t.childAt(e).isHidden)return!0;return!1}var s=t.core.installMessageFilter,a=t.core.removeMessageFilter;e.enableAutoHide=i,e.disableAutoHide=n;var h=function(){function t(){}return t.prototype.filterMessage=function(t,e){switch(e.type){case"child-added":case"child-removed":case"child-shown":case"child-hidden":o(t)}return!1},t}(),c=new h}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.di.Container,n=t.di.IContainer,o=t.utility.createBoxSizing,r=function(){function t(){this._shell=null,this._container=null,this._pluginList=null}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pluginList",{get:function(){return this._pluginList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shell",{get:function(){return this._shell},enumerable:!0,configurable:!0}),t.prototype.run=function(){var t=this;this._container=this.createContainer(),this.configureContainer(),this._shell=this.createShell(),this.configureShell(),this._pluginList=this.createPluginList(),this.configurePlugins().then(function(){
t.finalize()})["catch"](function(t){console.error("plugin initialization failed",t)})},t.prototype.createContainer=function(){return new i},t.prototype.createPluginList=function(){return this.container.resolve(e.IPluginList)},t.prototype.createShell=function(){return this.container.resolve(e.IShellView)},t.prototype.configureContainer=function(){var t=this.container;t.isRegistered(n)||t.registerInstance(n,t),t.isRegistered(e.IPluginList)||t.registerType(e.IPluginList,e.PluginList),t.isRegistered(e.IShellView)||t.registerType(e.IShellView,e.ShellView)},t.prototype.configurePlugins=function(){return Promise.resolve()},t.prototype.configureShell=function(){},t.prototype.finalize=function(){var t=this.shell,e=document.getElementById("main")||document.body,i=o(e),n=function(){return t.fit(void 0,void 0,i)};window.addEventListener("resize",n),t.attach(e),t.show(),n()},t}();e.Bootstrapper=r}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t,e){return t-e}var n=t.collections.algorithm,o=function(){function t(t){this._ranks=[],this._menu=t}return t.prototype.addItem=function(t,e){void 0===e&&(e=100),this.removeItem(t);var o=n.upperBound(this._ranks,e,i);n.insert(this._ranks,o,e),this._menu.insertItem(o,t)},t.prototype.removeItem=function(t){var e=this._menu.removeItem(t);-1!==e&&n.removeAt(this._ranks,e)},t}();e.MenuManager=o}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.di.IContainer,n=function(){function t(t){this._plugins=[],this._container=t}return t.prototype.add=function(t){var e=this;return Promise.all(t).then(function(t){t.forEach(function(t){return e._addPlugin(t)})})},t.prototype.forEach=function(t){return this._plugins.forEach(function(e){return t(e)})},t.prototype._addPlugin=function(t){t.initialize(this._container),this._plugins.push(t)},t.$inject=[i],t}();e.PluginList=n}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t,e){return t.second-e}var n=t.collections.algorithm,o=t.utility.Pair,r=t.widgets.BoxLayout,s=t.widgets.Widget,a=(t.widgets.WidgetFlag,"p-ShellPanel"),h=function(t){function e(e){t.call(this),this._pairs=[],this.addClass(a),this.layout=new r(e,0),this.setFlag(16)}return __extends(e,t),e.prototype.dispose=function(){this._pairs=null,t.prototype.dispose.call(this)},e.prototype.addWidget=function(t,e){void 0===e&&(e={}),t.parent=null;var r=e.stretch,s=e.alignment,a=void 0!==e.rank?e.rank:100,h=n.upperBound(this._pairs,a,i);n.insert(this._pairs,h,new o(t,a)),this.layout.insertWidget(h,t,r,s)},e.prototype.onChildRemoved=function(e){t.prototype.onChildRemoved.call(this,e);var i=n.findIndex(this._pairs,function(t){return t.first===e.child});-1!==i&&n.removeAt(this._pairs,i)},e}(s);e.ShellPanel=h}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.widgets.BoxLayout,n=(t.widgets.Direction,t.widgets.MenuBar),o=(t.widgets.Orientation,t.widgets.SizePolicy,t.widgets.SplitPanel),r=t.widgets.Widget,s=(t.widgets.WidgetFlag,"p-ShellView"),a="p-mod-top",h="p-mod-left",c="p-mod-right",u="p-mod-bottom",p="p-mod-center",d=function(t){function r(){t.call(this),this.addClass(s),this._menuBar=new n,this._topPanel=new e.ShellPanel(2),this._leftPanel=new e.ShellPanel(0),this._rightPanel=new e.ShellPanel(1),this._bottomPanel=new e.ShellPanel(3),this._centerPanel=new e.ShellPanel(2),this._menuManager=new e.MenuManager(this._menuBar),this._topPanel.addClass(a),this._leftPanel.addClass(h),this._rightPanel.addClass(c),this._bottomPanel.addClass(u),this._centerPanel.addClass(p),this._menuBar.hide(),this._topPanel.verticalSizePolicy=0,e.enableAutoHide(this._topPanel),e.enableAutoHide(this._leftPanel),e.enableAutoHide(this._rightPanel),e.enableAutoHide(this._bottomPanel);var r=new o(0),d=new o(1);r.handleSize=0,d.handleSize=0,r.addWidget(this._leftPanel),r.addWidget(this._centerPanel,1),r.addWidget(this._rightPanel),d.addWidget(r,1),d.addWidget(this._bottomPanel);var l=new i(2,0);l.addWidget(this._menuBar),l.addWidget(this._topPanel),l.addWidget(d,1),this.layout=l,this.setFlag(16)}return __extends(r,t),r.prototype.areas=function(){return["top","left","right","bottom","center"]},r.prototype.addWidget=function(t,e,i){switch(t){case"top":this._topPanel.addWidget(e,i);break;case"left":this._leftPanel.addWidget(e,i);break;case"right":this._rightPanel.addWidget(e,i);break;case"bottom":this._bottomPanel.addWidget(e,i);break;case"center":this._centerPanel.addWidget(e,i);break;default:throw new Error("invalid content area: "+t)}},r.prototype.addMenuItem=function(t,e){this._menuManager.addItem(t,e),this._menuBar.setVisible(this._menuBar.count>0)},r.prototype.removeMenuItem=function(t){this._menuManager.removeItem(t),this._menuBar.setVisible(this._menuBar.count>0)},r}(r);e.ShellView=d}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.utility.Point,n=t.utility.Size,o=t.virtualdom.BaseComponent,r=t.virtualdom.createFactory,s=t.widgets.SizePolicy,a=t.widgets.Widget,h="p-CodeMirrorWidget",c="p-CodeMirrorComponent",u=function(t){function e(e){t.call(this),this._scrollPos=null,this.addClass(h),this._editor=this.createEditor(e),this.setSizePolicy(s.Expanding,s.Expanding)}return __extends(e,t),e.prototype.dispose=function(){this._editor=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"editor",{get:function(){return this._editor},enumerable:!0,configurable:!0}),e.prototype.sizeHint=function(){return new n(500,200)},e.prototype.createEditor=function(t){return CodeMirror(this.node,t)},e.prototype.onAfterShow=function(t){var e=this._scrollPos;e&&this._editor.scrollTo(e.x,e.y)},e.prototype.onBeforeHide=function(t){var e=this._editor.getScrollInfo();this._scrollPos=new i(e.left,e.top)},e.prototype.onAfterAttach=function(t){this._editor.refresh()},e.prototype.onResize=function(t){this.isVisible&&this._editor.setSize(t.width,t.height)},e}(a);e.CodeMirrorWidget=u;var p=function(t){function e(){t.apply(this,arguments),this._editor=null}return __extends(e,t),e.prototype.dispose=function(){this._editor=null,t.prototype.dispose.call(this)},e.prototype.init=function(e,i){t.prototype.init.call(this,e,i),this._editor||(this._editor=this.createEditor())},Object.defineProperty(e.prototype,"editor",{get:function(){return this._editor},enumerable:!0,configurable:!0}),e.prototype.createEditor=function(){return CodeMirror(this.node,this.data.config)},e.className=c,e}(o);e.CodeMirrorComponent=p,e.CodeMirrorFactory=r(p)}(e=t.lib||(t.lib={}))}(phosphor||(phosphor={}));